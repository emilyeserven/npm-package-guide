---
id: "file-path-checks"
title: "File & Path Checks üìÇ"
guide: "shell-scripting"
group: "Agent Patterns"
linkRefs:
  - id: jq-manual
---

<SectionTitle>{frontmatter.title}</SectionTitle>

<Toc>
  <TocLink id="toc-structure">Project Structure Validation</TocLink>
  <TocLink id="toc-json">JSON Validation with jq</TocLink>
  <TocLink id="toc-git">Git State Validation</TocLink>
</Toc>

<SectionIntro>
Validate project structure and configurations before operating.
</SectionIntro>

<SectionSubheading id="toc-structure">Project Structure Validation</SectionSubheading>

<CodeAccordion title="validate-project.sh" ext="bash">
```bash
#!/usr/bin/env bash
set -euo pipefail

ERRORS=()
for F in package.json tsconfig.json vite.config.ts; do
  [[ -f "$F" ]] || ERRORS+=("Missing: $F")
done
for D in src src/components public; do
  [[ -d "$D" ]] || ERRORS+=("Missing dir: $D")
done
[[ -d "node_modules" ]] || ERRORS+=("node_modules missing ‚Äî run npm install")
if command -v jq >/dev/null 2>&1; then
  if ! jq -e '.scripts.build' package.json >/dev/null 2>&1; then
    ERRORS+=("No 'build' script in package.json")
  fi
fi
if [ ${#ERRORS[@]} -gt 0 ]; then
  echo "‚õî Validation failed:" >&2
  for E in "${ERRORS[@]}"; do echo "  ‚ùå $E" >&2; done
  exit 1
fi
echo "‚úÖ Project structure valid"
```
</CodeAccordion>

<SectionSubheading id="toc-json">JSON Validation with jq</SectionSubheading>

<CodeAccordion title="validate-json.sh" ext="bash">
```bash
#!/usr/bin/env bash

validate_json() {
  local file="$1"
  [[ -f "$file" ]] || { echo "Not found: $file" >&2; return 1; }
  [[ -s "$file" ]] || { echo "Empty: $file" >&2; return 1; }
  if ! jq 'empty' "$file" 2>/dev/null; then
    echo "Invalid JSON: $file" >&2; return 1
  fi
}
validate_json "package.json" || exit 1
```
</CodeAccordion>

<SectionSubheading id="toc-git">Git State Validation</SectionSubheading>

<CodeAccordion title="check-git.sh" ext="bash">
```bash
#!/usr/bin/env bash
if ! git rev-parse --is-inside-work-tree >/dev/null 2>&1; then
  echo "‚ùå Not a git repo" >&2; exit 1
fi
BRANCH=$(git branch --show-current)
echo "üìå Branch: $BRANCH"
if ! git diff --quiet; then
  echo "‚ö†Ô∏è  Uncommitted changes:"; git diff --stat
fi
UNTRACKED=$(git ls-files --others --exclude-standard | wc -l)
[[ $UNTRACKED -gt 0 ]] && echo "‚ö†Ô∏è  $UNTRACKED untracked file(s)"
```
</CodeAccordion>
