---
id: "build"
title: "Build & Output ‚öôÔ∏è"
guide: "npm-package"
usedFootnotes: [1, 2, 3, 4, 5, 6, 7]
linkRefs:
  - id: "vite-getting-started"
  - id: "vite-library-mode"
  - id: "webpack-getting-started"
  - id: "tsup"
  - id: "mdn-es-import"
  - id: "rollup-intro"
  - id: "mdn-tree-shaking"
---

<SectionTitle>{frontmatter.title}</SectionTitle>

<Toc>
  <TocLink id="toc-webapp">Web App</TocLink>
  <TocLink id="toc-pkg">NPM Package</TocLink>
  <TocLink id="toc-explainer">What's a bundler?</TocLink>
  <TocLink id="toc-gotcha">Watch out</TocLink>
</Toc>

<SectionSubheading id="toc-webapp">{'\u{1F310}'} Web App</SectionSubheading>
<SectionList>
<ColItem>You use a 'bundler' to combine all your code into optimized files the browser can run. The two most common ones are Vite<FnRef n={1} /> (fast, modern, recommended for new projects) and Webpack<FnRef n={3} /> (older, very configurable, still widely used).</ColItem>
<ColItem>The output is HTML, CSS, and JavaScript files deployed to a web server or CDN ‚Äî similar to deploying a backend to a cloud provider. For how this fits into the bigger picture of web app architecture, see <NavLink to="arch-what-is-a-stack" /> in the Architecture Guide.</ColItem>
<ColItem>You only need to target browsers, so one output format is fine. Vite and Webpack handle all the optimization for you.</ColItem>
</SectionList>

<SectionSubheading id="toc-pkg">{'\u{1F4E6}'} NPM Package</SectionSubheading>
<SectionList>
<ColItem>You need to output your code in multiple formats because you don't know what system will consume it.</ColItem>
<ColItem>ESM<FnRef n={5} /> (ES Modules) = modern 'import/export' syntax. CJS (CommonJS) = older 'require()' syntax used by Node.js.</ColItem>
<ColItem>Common choices for packages: tsup<FnRef n={4} /> (easiest to start with), Rollup<FnRef n={6} />, or unbuild. Vite<FnRef n={2} /> and Webpack can also be configured for library output, though tsup and Rollup are purpose-built for it and require less setup.</ColItem>
</SectionList>

<Explainer title="What's a bundler?">
A bundler takes all your source files (JS, TS, CSS, images) and combines them into optimized output files. It's like a compiler for the frontend world ‚Äî it resolves imports, removes dead code<FnRef n={7} />, and produces files ready for production. Vite is the current favorite for apps because it's extremely fast during development (using native ES modules) and produces optimized builds for production. Webpack is older but has a massive ecosystem of plugins. Both can be configured for library output too ‚Äî Vite even has a dedicated 'library mode' ‚Äî but tools like tsup and Rollup tend to require less config for that use case.<br/><br/>üìé **Related:** Your build tool works hand-in-hand with your <NavLink to="tsconfig" /> ‚Äî the TypeScript compiler configuration. To verify your build runs successfully in CI, see the <NavLink to="ci-build" /> section.
</Explainer>

<Gotcha>
‚ö†Ô∏è ESM vs CJS is like Python 2 vs 3 ‚Äî two module systems that don't always play nice together. Always ship ESM at minimum. tsup can output both formats with one config.<br/><br/>üê≥ **Docker note:** Docker is primarily relevant to web apps, not npm packages. Apps are often containerized for deployment (Docker image ‚Üí push to registry ‚Üí deploy to cloud). Packages don't need Docker ‚Äî they're published to npm, not deployed as running services. If you're coming from backend development where everything runs in Docker, know that in the JS ecosystem, Docker is for apps (and sometimes for CI environments), not for libraries.
</Gotcha>
