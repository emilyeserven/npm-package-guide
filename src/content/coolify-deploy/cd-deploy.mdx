---
id: "cd-deploy"
title: "Your First Deployment ðŸ“¦"
guide: "coolify-deploy"
group: "Setup & Deploy"
linkRefs:
  - id: "docker-multi-stage"
    note: "Docker multi-stage builds documentation"
  - id: "nixpacks-docs"
    note: "Nixpacks build system documentation"
---

<SectionTitle>{frontmatter.title}</SectionTitle>

<Toc>
  <TocLink id="toc-nixpacks">Nixpacks deployment (quick)</TocLink>
  <TocLink id="toc-dockerfile">Dockerfile deployment (recommended)</TocLink>
</Toc>

<SectionIntro>
Walk through creating a resource and deploying a React + Vite app step by step. Choose the approach that fits your needs.
</SectionIntro>

<SectionSubheading id="toc-nixpacks">Nixpacks deployment (quick)</SectionSubheading>

The fastest path. Coolify auto-detects your Vite project and builds it.

<SectionList>
<ColItem>**1. Create a New Resource** â€” Open your Project in Coolify â†’ **Create New Resource** â†’ select your Git source â†’ pick your repository and branch.</ColItem>
<ColItem>**2. Configure Build Settings** â€” Set Build Pack to **Nixpacks**, enable **Is Static Site**, set Build Command to `npm run build` (or `pnpm build`), and Publish Dir to `dist`.</ColItem>
<ColItem>**3. Set Your Domain** â€” Enter your domain with `https://` protocol (e.g., `https://app.yourdomain.com`). Make sure you have the DNS A record pointing to this server's IP. Click **Save**.</ColItem>
<ColItem>**4. Deploy** â€” Click **Deploy** and watch the build log. First builds take 2â€“5 minutes. Subsequent builds are faster thanks to caching.</ColItem>
</SectionList>

<Gotcha type="warn" title="Limitation">
The Nixpacks static site approach uses Nginx with a default configuration that does **not** support SPA client-side routing out of the box. If you navigate to `/dashboard` and hit refresh, you'll get a 404. Read the **SPA Routing** section for the fix.
</Gotcha>

<SectionSubheading id="toc-dockerfile">Dockerfile deployment (recommended)</SectionSubheading>

The recommended approach if you use TanStack Router or any client-side routing. You control the Nginx config.

**Step 1 â€” Add Nginx config to your repo** (`nginx.conf`):

```nginx
server {
    listen 80;
    server_name localhost;
    root /usr/share/nginx/html;
    index index.html;

    # Enable gzip compression
    gzip on;
    gzip_types text/plain text/css application/json
               application/javascript text/xml image/svg+xml;

    # Cache static assets aggressively
    location /assets/ {
        expires 1y;
        add_header Cache-Control "public, immutable";
    }

    # SPA fallback â€” the critical line
    location / {
        try_files $uri $uri/ /index.html;
    }
}
```

**Step 2 â€” Add a Dockerfile to your repo root:**

```dockerfile
# --- Build stage ---
FROM node:22-alpine AS build
WORKDIR /app
COPY package*.json ./
RUN npm ci
COPY . .
RUN npm run build

# --- Production stage ---
FROM nginx:alpine
COPY nginx.conf /etc/nginx/conf.d/default.conf
COPY --from=build /app/dist /usr/share/nginx/html
EXPOSE 80
```

**Step 3 â€” Configure in Coolify.** Create a new resource â†’ select your repo. Then set Build Pack to **Dockerfile**, Dockerfile Location to `/Dockerfile`, and Ports Exposes to `80`. Set your domain with `https://` protocol, save, and deploy.

<Gotcha type="tip" title="Using pnpm or bun?">
Adjust the Dockerfile's install command accordingly. For pnpm: `RUN corepack enable && pnpm install --frozen-lockfile`. For bun: use `FROM oven/bun:1-alpine AS build`.
</Gotcha>
