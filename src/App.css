  :root {
    --ink: #1a1a2e;
    --muted: #6b7280;
    --faint: #9ca3af;
    --indigo: #6366f1;
    --indigo-light: #e0e7ff;
    --blue: #3b82f6;
    --blue-bg: #eff6ff;
    --blue-border: #bfdbfe;
    --blue-divider: #dbeafe;
    --purple: #8b5cf6;
    --purple-bg: #faf5ff;
    --purple-border: #e9d5ff;
    --purple-divider: #f3e8ff;
    --green-bg: #f0fdf4;
    --green-border: #bbf7d0;
    --green-text: #166534;
    --green-body: #15803d;
    --green-check: #16a34a;
    --red-bg: #fef2f2;
    --red-border: #fecaca;
    --red-text: #991b1b;
    --yellow-bg: #fefce8;
    --yellow-border: #fde68a;
    --yellow-accent: #92400e;
    --yellow-light: #fef3c7;
    --code-bg: #1e293b;
    --code-text: #e2e8f0;
    --pill-bg: #f1f5f9;
    --pill-text: #475569;
    --body: #1e293b;
    --surface: #fafafa;
    --surface-raised: #fff;
    --surface-muted: #f8fafc;
    --surface-hover: #f1f5f9;
    --border: #e2e8f0;
    --border-light: #f1f5f9;
    --radius: 12px;
    --radius-sm: 10px;
    --radius-pill: 20px;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'DM Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    color: var(--ink);
    background: var(--surface);
    line-height: 1.6;
    -webkit-font-smoothing: antialiased;
    transition: background 0.2s ease, color 0.2s ease;
  }

  .container {
    max-width: 840px;
    margin: 0 auto;
    padding: 72px 20px 60px;
  }

  /* Page header - only shown on Start Here */
  .page-header { margin-bottom: 28px; }
  .page-header h1 {
    font-size: 28px;
    font-weight: 700;
    letter-spacing: -0.5px;
    margin-bottom: 4px;
  }
  .page-header .subtitle { color: var(--muted); font-size: 14px; margin-bottom: 4px; }
  .page-header .hint { color: var(--faint); font-size: 13px; margin-bottom: 0; }

  /* Floating header bar */
  .floating-header {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 50;
    background: rgba(255, 255, 255, 0.92);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border-bottom: 1px solid #e2e8f0;
    padding: 0 20px;
    transition: box-shadow 0.2s ease;
  }

  .floating-header.scrolled {
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);
  }

  .floating-header-inner {
    max-width: 840px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    height: 52px;
    gap: 14px;
  }

  .header-menu-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 36px;
    height: 36px;
    border: 1px solid #e2e8f0;
    background: #fff;
    border-radius: 9px;
    cursor: pointer;
    flex-shrink: 0;
    transition: all 0.15s;
  }

  .header-menu-btn:hover {
    border-color: var(--indigo);
    color: var(--indigo);
    box-shadow: 0 2px 6px rgba(99, 102, 241, 0.1);
  }

  .header-menu-icon {
    display: flex;
    flex-direction: column;
    gap: 3px;
  }

  .header-menu-icon span {
    display: block;
    width: 14px;
    height: 1.5px;
    background: currentColor;
    border-radius: 1px;
  }

  .header-section-name {
    font-size: 14px;
    font-weight: 600;
    color: var(--ink);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    min-width: 0;
  }

  .header-pm-switcher {
    margin-left: auto;
    position: relative;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .header-home-btn {
    display: flex;
    align-items: center;
    gap: 5px;
    font-family: inherit;
    font-size: 11px;
    font-weight: 600;
    padding: 5px 10px;
    border-radius: 8px;
    background: transparent;
    color: var(--muted);
    border: 1px solid #e2e8f0;
    cursor: pointer;
    transition: all 0.15s;
    white-space: nowrap;
  }

  .header-home-btn:hover {
    border-color: var(--indigo);
    color: var(--indigo);
  }

  .header-home-btn svg {
    width: 12px;
    height: 12px;
  }

  .header-pm-btn {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    font-family: 'JetBrains Mono', monospace;
    font-size: 11px;
    font-weight: 600;
    padding: 5px 10px;
    border-radius: 8px;
    background: var(--indigo-light);
    color: var(--indigo);
    border: 1px solid transparent;
    cursor: pointer;
    transition: all 0.15s;
  }

  .header-pm-btn:hover {
    border-color: var(--indigo);
    box-shadow: 0 2px 6px rgba(99, 102, 241, 0.12);
  }

  .header-pm-btn svg {
    width: 13px;
    height: 13px;
    opacity: 0.7;
    transition: transform 0.3s ease;
  }

  .header-pm-btn:hover svg { opacity: 1; transform: rotate(60deg); }

  .pm-dropdown {
    position: absolute;
    top: calc(100% + 6px);
    right: 0;
    background: #fff;
    border: 1px solid #e2e8f0;
    border-radius: 10px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
    padding: 6px;
    z-index: 60;
    opacity: 0;
    pointer-events: none;
    transform: translateY(-4px);
    transition: all 0.15s ease;
    min-width: 120px;
  }

  .pm-dropdown.open {
    opacity: 1;
    pointer-events: auto;
    transform: translateY(0);
  }

  .pm-dropdown-item {
    display: flex;
    align-items: center;
    gap: 8px;
    width: 100%;
    padding: 8px 12px;
    border: none;
    background: transparent;
    font-family: 'JetBrains Mono', monospace;
    font-size: 12px;
    font-weight: 500;
    color: var(--muted);
    cursor: pointer;
    border-radius: 7px;
    transition: all 0.12s;
  }

  .pm-dropdown-item:hover {
    background: var(--indigo-light);
    color: var(--indigo);
  }

  .pm-dropdown-item.active {
    color: var(--indigo);
    font-weight: 700;
  }

  .pm-dropdown-item .pm-check {
    width: 16px;
    font-size: 13px;
    text-align: center;
  }

  .pm-dropdown-divider {
    height: 1px;
    background: #e2e8f0;
    margin: 4px 6px;
  }

  .pm-dropdown-link {
    font-family: 'DM Sans', system-ui, sans-serif;
    font-size: 11.5px;
    color: var(--indigo) !important;
    width: 100%;
    text-align: left;
  }

  /* Sidebar Drawer */
  .sidebar-overlay {
    position: fixed;
    inset: 0;
    background: rgba(15, 23, 42, 0.3);
    backdrop-filter: blur(2px);
    z-index: 90;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.25s ease;
  }

  body.sidebar-open .sidebar-overlay {
    opacity: 1;
    pointer-events: auto;
  }

  .sidebar {
    position: fixed;
    top: 0;
    left: 0;
    width: 300px;
    height: 100vh;
    background: #fff;
    z-index: 100;
    transform: translateX(-100%);
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 4px 0 24px rgba(0, 0, 0, 0.08);
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }

  body.sidebar-open .sidebar {
    transform: translateX(0);
  }

  .sidebar-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 18px 20px 14px;
    border-bottom: 1px solid #e2e8f0;
    flex-shrink: 0;
  }

  .sidebar-title {
    font-size: 15px;
    font-weight: 700;
    color: var(--ink);
    letter-spacing: -0.3px;
  }

  .sidebar-close {
    width: 32px;
    height: 32px;
    border: none;
    background: var(--pill-bg);
    border-radius: 8px;
    font-size: 16px;
    color: var(--muted);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.15s;
  }

  .sidebar-close:hover { background: #e2e8f0; color: var(--ink); }

  .sidebar-body {
    flex: 1;
    overflow-y: auto;
    padding: 12px 14px 24px;
  }

  .sidebar-group-label {
    font-size: 11px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.8px;
    color: var(--ink);
    padding: 18px 12px 8px;
    border-top: 1px solid #e2e8f0;
    margin-top: 4px;
  }

  .sidebar-group-label:first-child { padding-top: 4px; border-top: none; margin-top: 0; }

  .sidebar-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
    text-align: left;
    padding: 9px 12px;
    border: none;
    background: transparent;
    font-family: inherit;
    font-size: 13.5px;
    font-weight: 400;
    color: var(--muted);
    cursor: pointer;
    border-radius: 8px;
    transition: all 0.15s ease;
    line-height: 1.4;
  }

  .sidebar-item .sidebar-icon {
    font-size: 14px;
    filter: grayscale(1);
    opacity: 0.5;
    transition: all 0.15s;
  }

  .sidebar-item:hover .sidebar-icon {
    filter: grayscale(0);
    opacity: 1;
  }

  .sidebar-item:hover {
    background: var(--indigo-light);
    color: var(--indigo);
  }

  .sidebar-item.active {
    background: var(--indigo);
    color: var(--surface);
    font-weight: 600;
  }

  .sidebar-item.active .sidebar-icon {
    filter: grayscale(0);
    opacity: 1;
  }

  /* Section intro paragraph */
  .section-intro {
    font-size: 14.5px;
    color: var(--body);
    line-height: 1.75;
    margin-bottom: 24px;
  }

  .section-intro strong {
    color: var(--ink);
    font-weight: 600;
  }

  .section-intro ul {
    margin: 10px 0 6px;
    padding-left: 20px;
    list-style: none;
  }

  .section-intro ul li {
    position: relative;
    padding: 3px 0 3px 8px;
  }

  .section-intro ul li::before {
    content: 'â†’';
    position: absolute;
    left: -16px;
    color: var(--indigo);
    font-weight: 600;
  }

  /* Section */
  .section { display: none; animation: fadeIn 0.25s ease; }
  .section.active { display: block; }

  @keyframes fadeIn { from { opacity: 0; transform: translateY(6px); } to { opacity: 1; transform: translateY(0); } }

  .section-title { font-size: 24px; font-weight: 700; margin-bottom: 20px; letter-spacing: -0.4px; }

  /* Columns â€” flat sections with headers */
  .columns { display: flex; gap: 24px; flex-wrap: wrap; }

  .col {
    flex: 1 1 300px;
    border-radius: 0;
    padding: 0;
    border: none;
    background: none;
  }

  .col--webapp, .col--pkg, .col--monolith, .col--monorepo {
    background: none;
    border-color: transparent;
  }

  .col-label {
    font-size: 18px;
    font-weight: 700;
    color: var(--ink);
    margin-bottom: 12px;
    padding-bottom: 8px;
    border-bottom: 2px solid var(--border);
  }

  .col--webapp .col-label { border-bottom-color: var(--blue); }
  .col--pkg .col-label { border-bottom-color: var(--purple); }
  .col--monolith .col-label { border-bottom-color: #c2410c; }
  .col--monorepo .col-label { border-bottom-color: #047857; }

  .col-item {
    font-size: 14px;
    line-height: 1.65;
    padding: 9px 0 9px 16px;
    position: relative;
    color: var(--body);
  }

  .section-list {
    margin-bottom: 20px;
  }

  .col-item::before {
    content: 'â€¢';
    position: absolute;
    left: 0;
    color: var(--muted);
    font-weight: 700;
    font-size: 14px;
  }

  /* Prev/Next navigation */
  .section-nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 32px;
    padding-top: 20px;
    border-top: 1px solid #e2e8f0;
    gap: 12px;
  }

  .section-nav-btn {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 9px 16px;
    border: 1px solid #e2e8f0;
    background: #fff;
    border-radius: 9px;
    font-family: inherit;
    font-size: 13px;
    font-weight: 500;
    color: var(--muted);
    cursor: pointer;
    transition: all 0.15s;
    max-width: 45%;
  }

  .section-nav-btn:hover {
    border-color: var(--indigo);
    color: var(--indigo);
    box-shadow: 0 2px 6px rgba(99, 102, 241, 0.1);
  }

  .section-nav-btn .nav-arrow {
    font-size: 15px;
    flex-shrink: 0;
  }

  .section-nav-btn .nav-label {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  .section-nav-btn.next { margin-left: auto; }
  .section-nav-btn.prev { margin-right: auto; }

  /* Explainer */
  .explainer {
    margin-top: 20px;
  }

  .explainer-heading {
    font-size: 18px;
    font-weight: 700;
    color: var(--ink);
    margin-top: 0;
    margin-bottom: 8px;
  }

  .explainer-body {
    font-size: 14px;
    line-height: 1.75;
    color: var(--body);
  }

  /* Accordion â€” for optional collapsible content */
  .accordion {
    margin-top: 16px;
    border: 1px solid #e2e8f0;
    border-radius: var(--radius-sm);
    overflow: hidden;
  }

  .accordion-toggle {
    width: 100%;
    padding: 13px 18px;
    background: #f8fafc;
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: space-between;
    font-family: inherit;
    font-size: 14px;
    font-weight: 600;
    color: var(--ink);
    transition: background 0.15s;
  }

  .accordion-toggle:hover { background: #f1f5f9; }

  .accordion-arrow {
    font-size: 11px;
    transition: transform 0.2s ease;
    display: inline-block;
  }

  .accordion-arrow.open { transform: rotate(180deg); }

  .accordion-body {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease, padding 0.3s ease;
    padding: 0 18px;
  }

  .accordion-body.open {
    max-height: 2000px;
    padding: 0 18px 16px;
  }

  /* Gotcha */
  .gotcha {
    margin-top: 0;
    font-size: 14px;
    line-height: 1.65;
    color: var(--body);
  }

  /* Code Block */
  .code-block {
    margin-top: 16px;
    background: var(--code-bg);
    color: var(--code-text);
    border-radius: var(--radius-sm);
    padding: 20px;
    font-family: 'JetBrains Mono', monospace;
    font-size: 12px;
    line-height: 1.75;
    overflow-x: auto;
    white-space: pre-wrap;
    word-break: break-word;
  }

  .code-block .comment { color: #64748b; }
  .code-block .key { color: #7dd3fc; }
  .code-block .string { color: #86efac; }

  /* Checklist */
  .checklist-title { font-size: 24px; font-weight: 700; margin-bottom: 4px; letter-spacing: -0.4px; }
  .checklist-sub { font-size: 13px; color: var(--muted); margin-bottom: 22px; }
  .checklist-sub code { background: var(--pill-bg); padding: 2px 7px; border-radius: 4px; font-family: 'JetBrains Mono', monospace; font-size: 12px; }

  .check-item {
    display: flex;
    align-items: center;
    gap: 11px;
    padding: 10px 0;
    font-size: 14px;
    border-bottom: 1px solid #e2e8f0;
    cursor: pointer;
    transition: opacity 0.2s;
    user-select: none;
  }

  .check-item:last-of-type { border-bottom: none; }
  .check-item.checked { opacity: 0.55; text-decoration: line-through; color: var(--green-check); }

  .check-item input[type="checkbox"] {
    accent-color: var(--green-check);
    flex-shrink: 0;
    width: 16px;
    height: 16px;
    cursor: pointer;
  }

  .check-item .label { flex: 1; }

  .check-badge {
    font-size: 10px;
    font-weight: 600;
    padding: 2px 9px;
    border-radius: 10px;
    flex-shrink: 0;
    letter-spacing: 0.3px;
  }

  .badge-build { background: #dbeafe; color: #1e40af; }
  .badge-types { background: #e0e7ff; color: #3730a3; }
  .badge-config { background: #fce7f3; color: #9d174d; }
  .badge-deps { background: #fef3c7; color: #92400e; }
  .badge-docs { background: #d1fae5; color: #065f46; }
  .badge-prepublish { background: #ede9fe; color: #5b21b6; }
  .badge-legal { background: #f1f5f9; color: #475569; }

  /* Progress bar */
  .progress-row { display: flex; align-items: center; gap: 12px; margin-top: 22px; }
  .progress-track { flex: 1; height: 8px; background: #e2e8f0; border-radius: 4px; overflow: hidden; }
  .progress-fill { height: 100%; background: var(--green-check); border-radius: 4px; transition: width 0.35s ease; }
  .progress-label { font-size: 13px; color: var(--muted); font-weight: 600; flex-shrink: 0; }

  .checklist-copy-btn {
    display: inline-flex;
    align-items: center;
    gap: 7px;
    margin-bottom: 18px;
    padding: 8px 16px;
    border: 1px solid #e2e8f0;
    background: #fff;
    border-radius: 9px;
    font-family: inherit;
    font-size: 13px;
    font-weight: 600;
    color: var(--muted);
    cursor: pointer;
    transition: all 0.15s;
  }

  .checklist-copy-btn:hover {
    border-color: var(--indigo);
    color: var(--indigo);
    box-shadow: 0 2px 6px rgba(99, 102, 241, 0.1);
  }

  .checklist-copy-btn.copied {
    border-color: var(--green-check);
    color: var(--green-check);
  }

  /* Package manager toggle */
  .pm-toggle-group {
    display: inline-flex;
    background: #e2e8f0;
    border-radius: 8px;
    overflow: hidden;
  }

  .pm-toggle-btn {
    padding: 6px 16px;
    border: none;
    background: transparent;
    font-family: 'JetBrains Mono', monospace;
    font-size: 12px;
    font-weight: 600;
    color: var(--pill-text);
    cursor: pointer;
    transition: all 0.15s;
  }

  .pm-toggle-btn.active {
    background: var(--indigo);
    color: var(--surface);
    border-radius: 6px;
  }

  .cmd {
    font-family: 'JetBrains Mono', monospace;
    font-size: 12px;
    background: #e2e8f0;
    padding: 2px 6px;
    border-radius: 4px;
    color: var(--ink);
  }

  .cmd-pnpm { display: none; }
  .cmd-npm { display: inline; }

  body.pnpm .cmd-pnpm { display: inline; }
  body.pnpm .cmd-npm { display: none; }

  /* Steps / Roadmap */
  .roadmap-intro {
    font-size: 14px;
    color: var(--body);
    line-height: 1.65;
    margin-bottom: 24px;
  }

  .step-card {
    display: flex;
    gap: 16px;
    padding: 18px 0;
    border-bottom: 1px solid #e2e8f0;
    position: relative;
  }

  .step-card:last-child { border-bottom: none; }

  .step-number {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background: var(--indigo);
    color: var(--surface);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    font-weight: 700;
    flex-shrink: 0;
    position: relative;
  }

  .step-card:not(:last-child) .step-number::after {
    content: '';
    position: absolute;
    top: 38px;
    left: 50%;
    transform: translateX(-50%);
    width: 2px;
    height: calc(100% + 4px);
    background: var(--indigo-light);
  }

  .step-content { flex: 1; min-width: 0; }

  .step-title {
    font-size: 16px;
    font-weight: 700;
    color: var(--ink);
    margin-bottom: 4px;
  }

  .step-desc {
    font-size: 13.5px;
    color: var(--body);
    line-height: 1.65;
    margin-bottom: 8px;
  }

  .step-detail {
    font-size: 12.5px;
    color: var(--faint);
    line-height: 1.6;
    background: #f8fafc;
    border-radius: 8px;
    padding: 10px 14px;
    margin-bottom: 8px;
    border: 1px solid #f1f5f9;
  }

  .step-detail code {
    font-family: 'JetBrains Mono', monospace;
    font-size: 11.5px;
    background: #e2e8f0;
    padding: 1px 5px;
    border-radius: 3px;
    color: var(--ink);
  }

  .step-jump {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    font-size: 13px;
    font-weight: 700;
    color: var(--surface);
    cursor: pointer;
    background: var(--indigo);
    border: none;
    font-family: inherit;
    padding: 7px 14px;
    border-radius: 8px;
    transition: all 0.15s;
    margin-top: 4px;
    box-shadow: 0 2px 6px rgba(99, 102, 241, 0.25);
  }

  .step-jump:hover {
    background: #4f46e5;
    transform: translateY(-1px);
    box-shadow: 0 4px 10px rgba(99, 102, 241, 0.3);
  }

  .step-card.has-jump {
    /* no special border â€” deep dive button is sufficient indicator */
  }

  .bonus-step {
    margin-top: 28px;
    border-top: 2px dashed #cbd5e1;
    padding-top: 24px;
    border-bottom: none;
  }

  .bonus-number {
    background: linear-gradient(135deg, #f59e0b, #d97706) !important;
    font-size: 15px !important;
  }

  .bonus-step .step-number::after {
    display: none !important;
  }

  .bonus-subpage {
    margin-top: 18px;
    padding: 8px 0 8px 14px;
    border-left: 2px solid #e2e8f0;
  }

  .bonus-subpage-title {
    font-size: 14px;
    font-weight: 700;
    color: var(--ink);
    margin: 0 0 2px 0;
  }

  .bonus-subpage-desc {
    font-size: 13px;
    color: var(--body);
    line-height: 1.5;
    margin-bottom: 4px;
  }

  .step-substep {
    margin-top: 16px;
    padding-left: 14px;
    border-left: 2px solid #e2e8f0;
  }

  .step-substep-title {
    font-size: 14px;
    font-weight: 700;
    color: var(--ink);
    margin: 0 0 2px 0;
  }

  .step-substep-text {
    font-size: 13px;
    color: var(--body);
    line-height: 1.6;
  }

  .bonus-links {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-top: 12px;
  }

  .bonus-links .step-jump {
    font-size: 12px;
    padding: 6px 12px;
  }

  /* Resources table */
  .resources-section {
    margin-top: 40px;
    padding-top: 32px;
    border-top: 2px solid #e2e8f0;
  }

  .resources-title {
    font-size: 18px;
    font-weight: 700;
    margin-bottom: 6px;
    letter-spacing: -0.3px;
  }

  .resources-subtitle {
    font-size: 13px;
    color: var(--muted);
    margin-bottom: 20px;
    line-height: 1.5;
  }

  .resources-category {
    font-size: 13px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.8px;
    color: var(--muted);
    padding: 10px 0 6px;
    border-bottom: 1px solid #e2e8f0;
    margin-top: 20px;
    margin-bottom: 0;
  }

  .resources-category:first-of-type { margin-top: 0; }

  .resource-row {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 11px 0;
    border-bottom: 1px solid #f1f5f9;
    font-size: 13.5px;
    flex-wrap: wrap;
  }

  .resource-row:last-child { border-bottom: none; }

  .resource-link {
    color: var(--indigo);
    text-decoration: none;
    font-weight: 500;
    flex: 1;
    min-width: 200px;
  }

  .resource-link:hover { text-decoration: underline; }

  .resource-desc {
    color: var(--muted);
    font-size: 12px;
    flex: 1.5;
    min-width: 200px;
  }

  .resource-badges {
    display: flex;
    gap: 5px;
    flex-shrink: 0;
  }

  .resource-badge {
    font-size: 10px;
    font-weight: 600;
    padding: 2px 8px;
    border-radius: 10px;
    letter-spacing: 0.3px;
    white-space: nowrap;
  }

  .rb-free { background: #d1fae5; color: #065f46; }
  .rb-paid { background: #fef3c7; color: #92400e; }
  .rb-docs { background: #dbeafe; color: #1e40af; }
  .rb-article { background: #ede9fe; color: #5b21b6; }
  .rb-course { background: #fce7f3; color: #9d174d; }
  .rb-video { background: #ffedd5; color: #9a3412; }
  .rb-repo { background: #f1f5f9; color: #475569; }
  .rb-interactive { background: #ccfbf1; color: #0f766e; }

  /* Links / Resources */
  .links-section {
    margin-top: 24px;
    border-top: 1px solid #e2e8f0;
    padding-top: 16px;
  }

  .links-heading {
    font-size: 18px;
    font-weight: 700;
    color: var(--ink);
    margin-bottom: 10px;
  }

  .links-list {
    display: flex;
    flex-direction: column;
    gap: 0;
    counter-reset: footnote;
  }

  .footnote-item {
    display: flex;
    align-items: baseline;
    gap: 8px;
    padding: 6px 0;
    border-bottom: 1px solid #f1f5f9;
    font-size: 13px;
    line-height: 1.5;
  }

  .footnote-item:last-child { border-bottom: none; }

  .footnote-num {
    font-size: 11px;
    font-weight: 700;
    color: var(--indigo);
    min-width: 18px;
    flex-shrink: 0;
  }

  .footnote-link {
    color: var(--indigo);
    text-decoration: none;
    font-weight: 500;
  }

  .footnote-link:hover { text-decoration: underline; }

  .footnote-source {
    font-size: 10px;
    font-weight: 600;
    color: var(--pill-text);
    background: var(--pill-bg);
    padding: 1px 6px;
    border-radius: 4px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-left: 4px;
  }

  .footnote-note {
    color: var(--muted);
    font-size: 12px;
    margin-left: 4px;
  }

  sup.fn-ref {
    font-size: 10px;
    font-weight: 700;
    color: var(--surface);
    background: var(--indigo);
    border-radius: 4px;
    padding: 0 4px;
    margin-left: 2px;
    cursor: pointer;
    text-decoration: none;
    transition: background 0.15s;
    vertical-align: super;
    line-height: 1;
  }

  sup.fn-ref:hover {
    background: #4338ca;
  }

  /* Copyable AI prompts */
  .ai-prompt-card {
    margin-bottom: 14px;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    overflow: hidden;
  }

  .ai-prompt-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 14px;
    background: #f8fafc;
    border-bottom: 1px solid #e2e8f0;
  }

  .ai-prompt-label {
    font-weight: 700;
    font-size: 13px;
    color: var(--ink);
  }

  .ai-prompt-copy {
    font-family: inherit;
    font-size: 11px;
    font-weight: 600;
    padding: 4px 10px;
    border: 1px solid #e2e8f0;
    border-radius: 6px;
    background: #fff;
    color: var(--muted);
    cursor: pointer;
    transition: all 0.15s;
  }

  .ai-prompt-copy:hover { border-color: var(--indigo); color: var(--indigo); }
  .ai-prompt-copy.copied { border-color: #22c55e; color: #22c55e; background: #f0fdf4; }

  .ai-prompt-body {
    font-family: 'JetBrains Mono', monospace;
    font-size: 12px;
    padding: 10px 14px;
    line-height: 1.6;
    color: var(--muted);
    white-space: pre-wrap;
  }

  .inline-nav-link {
    font-family: inherit;
    font-size: inherit;
    font-weight: 600;
    color: var(--indigo);
    background: none;
    border: none;
    padding: 0;
    cursor: pointer;
    text-decoration: underline;
    text-decoration-style: dotted;
    text-underline-offset: 2px;
  }

  .inline-nav-link:hover {
    text-decoration-style: solid;
  }

  .inline-nav-pill {
    display: inline-flex;
    align-items: center;
    font-family: inherit;
    font-size: 13px;
    font-weight: 500;
    color: var(--indigo);
    background: var(--indigo-light);
    border: 1px solid rgba(99, 102, 241, 0.2);
    padding: 8px 14px;
    border-radius: 9px;
    cursor: pointer;
    transition: all 0.15s;
    line-height: 1.4;
    text-align: left;
  }

  .inline-nav-pill:hover {
    border-color: var(--indigo);
    box-shadow: 0 2px 6px rgba(99, 102, 241, 0.12);
    transform: translateY(-1px);
  }

  .further-reading-item {
    display: flex;
    align-items: baseline;
    gap: 6px;
    padding: 4px 0;
    font-size: 13px;
    line-height: 1.5;
  }

  .further-reading-link {
    color: var(--indigo);
    text-decoration: none;
    font-weight: 500;
    display: inline-flex;
    align-items: center;
    gap: 4px;
    transition: color 0.15s;
  }

  .further-reading-link:hover {
    text-decoration: underline;
  }

  .external-link-icon {
    width: 12px;
    height: 12px;
    flex-shrink: 0;
    opacity: 0.6;
  }

  .further-reading-item .link-source {
    font-size: 10px;
    font-weight: 600;
    color: var(--pill-text);
    background: var(--pill-bg);
    padding: 1px 6px;
    border-radius: 4px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  /* CI Pipeline section */
  .ci-step {
    margin-bottom: 24px;
    padding-bottom: 24px;
    border-bottom: 1px solid #e2e8f0;
  }

  .ci-step:last-child { border-bottom: none; margin-bottom: 0; padding-bottom: 0; }

  .ci-step-heading {
    font-size: 20px;
    font-weight: 700;
    margin-top: 0;
    margin-bottom: 8px;
    color: var(--ink);
  }

  /* Section subheading â€” used for inline headers in long content */
  .section-subheading {
    font-size: 18px;
    font-weight: 700;
    color: var(--ink);
    margin-top: 20px;
    margin-bottom: 8px;
  }

  .section-subheading:first-child { margin-top: 0; }

  /* Table of contents */
  .section-toc {
    margin-bottom: 24px;
    padding: 14px 18px;
    background: #f8fafc;
    border-radius: 10px;
    border: 1px solid #e2e8f0;
  }

  .section-toc-title {
    font-size: 11px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.8px;
    color: var(--muted);
    margin-bottom: 8px;
  }

  .section-toc .toc-link {
    display: block;
    font-size: 13px;
    color: var(--indigo);
    text-decoration: none;
    padding: 3px 0;
    cursor: pointer;
    transition: color 0.15s;
  }

  .section-toc .toc-link:hover {
    color: var(--ink);
  }

  .section-toc .toc-link.toc-indent {
    padding-left: 12px;
    font-size: 12px;
  }

  [id^="toc-"] {
    scroll-margin-top: 68px;
  }

  /* YAML heading label */
  .yaml-heading {
    font-size: 12px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.6px;
    color: var(--muted);
    margin-bottom: 6px;
    margin-top: 16px;
  }

  .ci-step-text {
    font-size: 14px;
    line-height: 1.7;
    color: var(--body);
    margin-bottom: 12px;
  }

  .ci-yaml {
    font-family: 'JetBrains Mono', monospace;
    font-size: 12px;
    line-height: 1.6;
    background: #1e293b;
    color: #e2e8f0;
    padding: 12px 16px;
    border-radius: 8px;
    margin-bottom: 10px;
    white-space: pre-wrap;
    overflow-x: auto;
  }

  .section-note {
    font-size: 13px;
    color: var(--indigo);
    background: var(--indigo-light);
    padding: 10px 14px;
    border-radius: 8px;
    line-height: 1.6;
    margin: 16px 0;
  }

  .ci-tip {
    font-size: 13px;
    color: var(--indigo);
    background: var(--indigo-light);
    padding: 10px 14px;
    border-radius: 8px;
    line-height: 1.6;
  }

  .ci-tip::before {
    content: 'ðŸ’¡ ';
  }

  /* Good tests bullet list */
  .good-tests-list {
    list-style: disc;
    padding-left: 20px;
    margin: 0;
  }

  .good-tests-list li {
    margin-bottom: 8px;
    line-height: 1.65;
  }

  .good-tests-list li:last-child { margin-bottom: 0; }

  /* AI prompt blocks */
  .ai-prompt-block {
    margin-bottom: 16px;
  }

  .ai-prompt-block:last-child { margin-bottom: 0; }

  .ai-prompt-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 6px;
  }

  .ai-prompt-label {
    font-weight: 700;
    font-size: 13px;
    color: var(--ink);
  }

  .ai-prompt-copy {
    font-family: inherit;
    font-size: 11px;
    font-weight: 600;
    padding: 4px 10px;
    border: 1px solid #e2e8f0;
    border-radius: 6px;
    background: #fff;
    color: var(--muted);
    cursor: pointer;
    transition: all 0.15s;
    flex-shrink: 0;
  }

  .ai-prompt-copy:hover {
    border-color: var(--indigo);
    color: var(--indigo);
  }

  .ai-prompt-copy.copied {
    border-color: #10b981;
    color: #10b981;
    background: #ecfdf5;
  }

  .ai-prompt-text {
    font-family: 'JetBrains Mono', monospace;
    font-size: 12px;
    background: #f1f5f9;
    padding: 10px 14px;
    border-radius: 8px;
    line-height: 1.6;
    color: var(--muted);
    white-space: pre-wrap;
  }

  .ci-full-example {
    margin-top: 28px;
  }

  .ci-full-example-label {
    font-size: 16px;
    font-weight: 700;
    color: var(--ink);
    margin-bottom: 10px;
  }

  .ci-overview-cards {
    display: flex;
    flex-direction: column;
    gap: 16px;
    margin-bottom: 24px;
  }

  .ci-overview-card {
    display: flex;
    gap: 14px;
    padding: 16px;
    border: 1px solid #e2e8f0;
    border-radius: 10px;
    background: #fafbfc;
  }

  .ci-overview-num {
    width: 28px;
    height: 28px;
    border-radius: 50%;
    background: var(--indigo);
    color: var(--surface);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 13px;
    font-weight: 700;
    flex-shrink: 0;
  }

  .ci-overview-card-body { flex: 1; min-width: 0; }

  .ci-overview-card-title {
    font-size: 16px;
    font-weight: 700;
    color: var(--ink);
    margin-bottom: 8px;
  }

  /* Dark mode toggle button */
  .theme-toggle {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 36px;
    height: 36px;
    border: 1px solid var(--border);
    background: var(--surface-raised);
    border-radius: 9px;
    cursor: pointer;
    flex-shrink: 0;
    transition: all 0.15s;
    font-size: 16px;
    line-height: 1;
    padding: 0;
  }

  .theme-toggle:hover {
    border-color: var(--indigo);
    color: var(--indigo);
    box-shadow: 0 2px 6px rgba(99, 102, 241, 0.1);
  }

  .theme-toggle svg {
    width: 18px;
    height: 18px;
    stroke: currentColor;
    fill: none;
    stroke-width: 2;
    stroke-linecap: round;
    stroke-linejoin: round;
  }

  /* Dark mode overrides */
  body.dark {
    --ink: #f1f5f9;
    --body: #cbd5e1;
    --muted: #94a3b8;
    --faint: #64748b;
    --surface: #0f172a;
    --surface-raised: #1e293b;
    --surface-muted: #1e293b;
    --surface-hover: #334155;
    --border: #334155;
    --border-light: #1e293b;
    --indigo: #818cf8;
    --indigo-light: rgba(99, 102, 241, 0.2);
    --blue: #60a5fa;
    --blue-bg: rgba(59, 130, 246, 0.1);
    --blue-border: rgba(59, 130, 246, 0.25);
    --blue-divider: rgba(59, 130, 246, 0.15);
    --purple: #c4b5fd;
    --purple-bg: rgba(196, 181, 253, 0.15);
    --purple-border: rgba(196, 181, 253, 0.35);
    --purple-divider: rgba(196, 181, 253, 0.25);
    --green-bg: rgba(22, 163, 74, 0.1);
    --green-border: rgba(22, 163, 74, 0.25);
    --green-text: #4ade80;
    --green-body: #22c55e;
    --green-check: #22c55e;
    --red-bg: rgba(239, 68, 68, 0.1);
    --red-border: rgba(239, 68, 68, 0.25);
    --red-text: #fca5a5;
    --yellow-bg: rgba(234, 179, 8, 0.1);
    --yellow-border: rgba(234, 179, 8, 0.25);
    --yellow-accent: #fbbf24;
    --yellow-light: rgba(234, 179, 8, 0.15);
    --code-bg: #0d1117;
    --code-text: #e2e8f0;
    --pill-bg: #334155;
    --pill-text: #94a3b8;
  }

  body.dark .floating-header {
    background: rgba(15, 23, 42, 0.92);
    border-bottom-color: var(--border);
  }

  body.dark .floating-header.scrolled {
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.3);
  }

  body.dark .header-menu-btn {
    border-color: var(--border);
    background: var(--surface-raised);
    color: var(--ink);
  }

  body.dark .header-home-btn {
    border-color: var(--border);
    color: var(--muted);
  }

  body.dark .header-home-btn:hover {
    border-color: var(--indigo);
    color: var(--indigo);
  }

  body.dark .sidebar {
    background: var(--surface-raised);
    box-shadow: 4px 0 24px rgba(0, 0, 0, 0.3);
  }

  body.dark .sidebar-header {
    border-bottom-color: var(--border);
  }

  body.dark .sidebar-close {
    background: var(--surface-hover);
    color: var(--muted);
  }

  body.dark .sidebar-close:hover {
    background: #475569;
    color: var(--ink);
  }

  body.dark .sidebar-group-label {
    border-top-color: var(--border);
  }

  body.dark .sidebar-item:hover {
    background: var(--indigo-light);
  }

  body.dark .sidebar-overlay {
    background: rgba(0, 0, 0, 0.5);
  }

  body.dark .section-nav-btn {
    border-color: var(--border);
    background: var(--surface-raised);
  }

  body.dark .section-nav-btn:hover {
    border-color: var(--indigo);
    color: var(--indigo);
  }

  body.dark .accordion {
    border-color: var(--border);
  }

  body.dark .accordion-toggle {
    background: var(--surface-raised);
    color: var(--ink);
  }

  body.dark .accordion-toggle:hover {
    background: var(--surface-hover);
  }

  body.dark .step-card {
    border-bottom-color: var(--border);
  }

  body.dark .step-detail {
    background: var(--surface-raised);
    border-color: var(--border);
    color: var(--muted);
  }

  body.dark .step-detail code {
    background: var(--surface-hover);
    color: var(--ink);
  }

  body.dark .step-jump:hover {
    background: #4f46e5;
  }

  body.dark .bonus-step {
    border-top-color: var(--border);
  }

  body.dark .bonus-subpage {
    border-left-color: var(--border);
  }

  body.dark .step-substep {
    border-left-color: var(--border);
  }

  body.dark .col-label {
    border-bottom-color: var(--border);
  }

  body.dark .col--webapp .col-label { border-bottom-color: var(--blue); }
  body.dark .col--pkg .col-label { border-bottom-color: var(--purple); }
  body.dark .col--monolith .col-label { border-bottom-color: #ea580c; }
  body.dark .col--monorepo .col-label { border-bottom-color: #10b981; }


  body.dark .check-item {
    border-bottom-color: var(--border);
  }

  body.dark .pm-toggle-group {
    background: var(--surface-hover);
  }

  body.dark .cmd {
    background: var(--surface-hover);
    color: var(--ink);
  }

  body.dark .section-nav {
    border-top-color: var(--border);
  }

  body.dark .resources-section {
    border-top-color: var(--border);
  }

  body.dark .resources-category {
    border-bottom-color: var(--border);
  }

  body.dark .resource-row {
    border-bottom-color: var(--border);
  }

  body.dark .links-section {
    border-top-color: var(--border);
  }

  body.dark .footnote-item {
    border-bottom-color: var(--border);
  }

  body.dark .ci-step {
    border-bottom-color: var(--border);
  }

  body.dark .ci-yaml {
    background: var(--code-bg);
  }

  body.dark .section-note {
    background: var(--indigo-light);
    color: var(--indigo);
  }

  body.dark .ci-tip {
    background: var(--indigo-light);
    color: var(--indigo);
  }

  body.dark .ci-overview-card {
    border-color: var(--border);
    background: var(--surface-raised);
  }

  body.dark .section-toc {
    background: var(--surface-raised);
    border-color: var(--border);
  }

  body.dark .ai-prompt-card {
    border-color: var(--border);
  }

  body.dark .ai-prompt-header {
    background: var(--surface-raised);
    border-bottom-color: var(--border);
  }

  body.dark .ai-prompt-copy {
    border-color: var(--border);
    background: var(--surface-raised);
  }

  body.dark .ai-prompt-text {
    background: var(--surface-raised);
  }


  body.dark .checklist-copy-btn {
    border-color: var(--border);
    background: var(--surface-raised);
  }

  body.dark .checklist-copy-btn:hover {
    border-color: var(--indigo);
    color: var(--indigo);
  }

  body.dark .progress-track {
    background: var(--surface-hover);
  }

  body.dark .pm-dropdown {
    background: var(--surface-raised);
    border-color: var(--border);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
  }

  body.dark .pm-dropdown-divider {
    background: var(--border);
  }

  body.dark .pm-dropdown-item:hover {
    background: var(--indigo-light);
    color: var(--indigo);
  }

  body.dark .header-pm-btn {
    background: var(--indigo-light);
    color: var(--indigo);
  }

  body.dark .theme-toggle {
    border-color: var(--border);
    background: var(--surface-raised);
    color: var(--ink);
  }

  /* Badge colors in dark mode */
  body.dark .badge-build { background: rgba(59, 130, 246, 0.15); color: #93c5fd; }
  body.dark .badge-types { background: rgba(99, 102, 241, 0.2); color: #939ef8; }
  body.dark .badge-config { background: rgba(236, 72, 153, 0.15); color: #f9a8d4; }
  body.dark .badge-deps { background: rgba(245, 158, 11, 0.15); color: #fcd34d; }
  body.dark .badge-docs { background: rgba(16, 185, 129, 0.15); color: #6ee7b7; }
  body.dark .badge-prepublish { background: rgba(196, 181, 253, 0.2); color: #c4b5fd; }
  body.dark .badge-legal { background: rgba(100, 116, 139, 0.15); color: #94a3b8; }

  body.dark .rb-free { background: rgba(16, 185, 129, 0.15); color: #6ee7b7; }
  body.dark .rb-paid { background: rgba(245, 158, 11, 0.15); color: #fcd34d; }
  body.dark .rb-docs { background: rgba(59, 130, 246, 0.15); color: #93c5fd; }
  body.dark .rb-article { background: rgba(196, 181, 253, 0.2); color: #c4b5fd; }
  body.dark .rb-course { background: rgba(236, 72, 153, 0.15); color: #f9a8d4; }
  body.dark .rb-video { background: rgba(249, 115, 22, 0.15); color: #fdba74; }
  body.dark .rb-repo { background: rgba(100, 116, 139, 0.15); color: #94a3b8; }
  body.dark .rb-interactive { background: rgba(20, 184, 166, 0.15); color: #5eead4; }

  body.dark .check-item input[type="checkbox"] {
    accent-color: var(--green-check);
  }

  body.dark sup.fn-ref {
    background: var(--indigo);
  }

  body.dark sup.fn-ref:hover {
    background: #6366f1;
  }

  @media (max-width: 600px) {
    .container { padding: 64px 14px 40px; }
    .col { padding: 16px; }
    .sidebar { width: 280px; }
    .header-section-name { font-size: 13px; }
  }
