import type { SectionLink } from '../helpers/renderFootnotes'

/**
 * Centralized link registry — single source of truth for all external URLs.
 *
 * Every footnote, further-reading link, glossary term URL, and External Resources
 * entry references this registry by ID instead of duplicating metadata.
 *
 * ID convention: {source}-{topic-slug}
 *   e.g. "npm-about", "mdn-tree-shaking", "ts-tsconfig-reference"
 *
 * Fields:
 *   id    — human-readable slug (stable even if URLs change)
 *   url   — the external URL
 *   label — display name for footnotes and the resources table
 *   source — attribution (e.g. "npm", "MDN", "TypeScript")
 *   desc  — description for the External Resources table (optional)
 *   tags  — type/topic/guide tags for External Resources filtering (optional)
 *   resourceCategory — if set, appears on External Resources under this heading
 */
export interface RegistryLink {
  id: string
  url: string
  label: string
  source: string
  desc?: string
  tags?: string[]
  resourceCategory?: string
}

export const linkRegistry: RegistryLink[] = [
  // ─── npm (docs.npmjs.com) ──────────────────────────────────────────
  {
    id: "npm-about",
    url: "https://docs.npmjs.com/about-npm",
    label: "What is npm?",
    source: "npm",
    desc: "Overview of the npm ecosystem — registry, CLI, and website",
    tags: ["docs", "free", "publishing", "guide:npm-package"],
  },
  {
    id: "npm-packages-and-modules",
    url: "https://docs.npmjs.com/packages-and-modules",
    label: "Getting started with npm packages",
    source: "npm",
    desc: "Intro to npm packages and modules — how they relate and differ",
    tags: ["docs", "free", "publishing", "guide:npm-package"],
  },
  {
    id: "npm-getting-started",
    url: "https://docs.npmjs.com/getting-started",
    label: "npm Docs — Getting Started",
    source: "npm",
    desc: "Official npm setup and publishing guide — the starting point for creating and distributing packages",
    tags: ["docs", "free", "publishing", "guide:npm-package"],
    resourceCategory: "Official Documentation",
  },
  {
    id: "npm-cli-commands",
    url: "https://docs.npmjs.com/cli/v10/commands",
    label: "npm CLI docs",
    source: "npm",
    desc: "Complete reference for all npm CLI commands",
    tags: ["docs", "free", "tooling", "guide:npm-package"],
  },
  {
    id: "npm-package-json",
    url: "https://docs.npmjs.com/cli/v10/configuring-npm/package-json",
    label: "package.json full reference",
    source: "npm",
    desc: "Every field in package.json explained — the manifest for npm packages",
    tags: ["docs", "free", "publishing", "modules", "guide:npm-package"],
  },
  {
    id: "npm-package-json-dependencies",
    url: "https://docs.npmjs.com/cli/v10/configuring-npm/package-json#dependencies",
    label: "package.json dependencies",
    source: "npm",
    desc: "How runtime dependencies work in package.json",
    tags: ["docs", "free", "publishing", "guide:npm-package"],
  },
  {
    id: "npm-package-json-peerdeps",
    url: "https://docs.npmjs.com/cli/v10/configuring-npm/package-json#peerdependencies",
    label: "peerDependencies explained",
    source: "npm",
    desc: "How peer dependencies let packages share consumer-provided dependencies",
    tags: ["docs", "free", "publishing", "guide:npm-package"],
  },
  {
    id: "npm-package-json-files",
    url: "https://docs.npmjs.com/cli/v10/configuring-npm/package-json#files",
    label: "\"files\" field — control what you publish",
    source: "npm",
    desc: "Allowlist of files included when publishing a package to npm",
    tags: ["docs", "free", "publishing", "guide:npm-package"],
  },
  {
    id: "npm-install",
    url: "https://docs.npmjs.com/cli/v10/commands/npm-install",
    label: "npm install docs",
    source: "npm",
    desc: "npm install command reference — flags, behaviors, and dependency resolution",
    tags: ["docs", "free", "tooling", "guide:npm-package"],
  },
  {
    id: "npm-pack",
    url: "https://docs.npmjs.com/cli/v10/commands/npm-pack",
    label: "npm pack — preview published contents",
    source: "npm",
    desc: "Create a tarball of your package to preview what gets published",
    tags: ["docs", "free", "publishing", "guide:npm-package"],
  },
  {
    id: "npm-link",
    url: "https://docs.npmjs.com/cli/v10/commands/npm-link",
    label: "npm link docs",
    source: "npm",
    desc: "Symlink a local package for development testing",
    tags: ["docs", "free", "tooling", "guide:npm-package"],
  },
  {
    id: "npm-npmignore",
    url: "https://docs.npmjs.com/cli/v10/using-npm/developers#keeping-files-out-of-your-package",
    label: ".npmignore docs",
    source: "npm",
    desc: "How to exclude files from your published package",
    tags: ["docs", "free", "publishing", "guide:npm-package"],
  },
  {
    id: "npm-workspaces",
    url: "https://docs.npmjs.com/cli/v10/using-npm/workspaces",
    label: "npm Workspaces docs",
    source: "npm",
    desc: "Built-in npm feature for linking and managing multiple local packages in a single repository",
    tags: ["docs", "free", "monorepo", "guide:npm-package"],
    resourceCategory: "Monorepo Tools & Resources",
  },
  {
    id: "npm-publishing",
    url: "https://docs.npmjs.com/creating-and-publishing-unscoped-public-packages",
    label: "Creating and publishing a package",
    source: "npm",
    desc: "Step-by-step guide to publishing your first npm package",
    tags: ["docs", "free", "publishing", "guide:npm-package"],
  },
  {
    id: "npm-public-registry",
    url: "https://docs.npmjs.com/about-the-public-npm-registry",
    label: "About the public npm registry",
    source: "npm",
    desc: "How the npm public registry works",
    tags: ["docs", "free", "publishing", "guide:npm-package"],
  },
  {
    id: "npm-package-lock",
    url: "https://docs.npmjs.com/cli/configuring-npm/package-lock-json",
    label: "package-lock.json",
    source: "npm",
    desc: "How the lockfile ensures reproducible installs",
    tags: ["docs", "free", "tooling", "guide:npm-package"],
  },
  {
    id: "npm-folders",
    url: "https://docs.npmjs.com/cli/configuring-npm/folders",
    label: "npm folders",
    source: "npm",
    desc: "Where npm installs packages and how node_modules is structured",
    tags: ["docs", "free", "tooling", "guide:npm-package"],
  },
  {
    id: "npm-scopes",
    url: "https://docs.npmjs.com/about-scopes",
    label: "About scopes",
    source: "npm",
    desc: "How @org/package namespaces work on npm",
    tags: ["docs", "free", "publishing", "guide:npm-package"],
  },
  {
    id: "npm-specifying-deps",
    url: "https://docs.npmjs.com/specifying-dependencies-and-devdependencies-in-a-package-json-file",
    label: "Specifying dependencies and devDependencies",
    source: "npm",
    desc: "How to declare runtime vs development dependencies",
    tags: ["docs", "free", "publishing", "guide:npm-package"],
  },
  {
    id: "npm-about-semver",
    url: "https://docs.npmjs.com/about-semantic-versioning",
    label: "About semantic versioning",
    source: "npm",
    desc: "How npm uses semver ranges for dependency resolution",
    tags: ["docs", "free", "versioning", "guide:npm-package"],
  },
  {
    id: "npm-package-json-main",
    url: "https://docs.npmjs.com/cli/configuring-npm/package-json#main",
    label: "\"main\" field",
    source: "npm",
    desc: "The traditional entry point field for npm packages",
    tags: ["docs", "free", "publishing", "modules", "guide:npm-package"],
  },
  {
    id: "npm-semver-calculator",
    url: "https://semver.npmjs.com/",
    label: "npm semver calculator",
    source: "npm",
    desc: "Interactive tool to test semver ranges against published versions",
    tags: ["interactive", "free", "versioning", "guide:npm-package"],
  },

  // ─── pnpm (pnpm.io) ───────────────────────────────────────────────
  {
    id: "pnpm-motivation",
    url: "https://pnpm.io/motivation",
    label: "pnpm Documentation",
    source: "pnpm",
    desc: "Alternative package manager with strict dependency isolation, commonly used for monorepo package development",
    tags: ["docs", "free", "tooling", "guide:npm-package"],
    resourceCategory: "Official Documentation",
  },
  {
    id: "pnpm-feature-comparison",
    url: "https://pnpm.io/feature-comparison",
    label: "pnpm vs npm — Feature Comparison",
    source: "pnpm",
    desc: "Side-by-side comparison of pnpm and npm features",
    tags: ["docs", "free", "tooling", "guide:npm-package"],
  },
  {
    id: "pnpm-cli-add",
    url: "https://pnpm.io/cli/add",
    label: "pnpm CLI docs",
    source: "pnpm",
    desc: "pnpm command reference starting with the add command",
    tags: ["docs", "free", "tooling", "guide:npm-package"],
  },
  {
    id: "pnpm-installation",
    url: "https://pnpm.io/installation",
    label: "Install pnpm",
    source: "pnpm",
    desc: "How to install pnpm on your system",
    tags: ["docs", "free", "tooling", "guide:npm-package"],
  },
  {
    id: "pnpm-install",
    url: "https://pnpm.io/cli/install",
    label: "pnpm install docs",
    source: "pnpm",
    desc: "pnpm install command reference",
    tags: ["docs", "free", "tooling", "guide:npm-package"],
  },
  {
    id: "pnpm-link",
    url: "https://pnpm.io/cli/link",
    label: "pnpm link docs",
    source: "pnpm",
    desc: "Symlink a local package for development testing with pnpm",
    tags: ["docs", "free", "tooling", "guide:npm-package"],
  },
  {
    id: "pnpm-pack",
    url: "https://pnpm.io/cli/pack",
    label: "pnpm pack docs",
    source: "pnpm",
    desc: "Create a tarball of your package with pnpm",
    tags: ["docs", "free", "publishing", "guide:npm-package"],
  },
  {
    id: "pnpm-publish",
    url: "https://pnpm.io/cli/publish",
    label: "pnpm publish docs",
    source: "pnpm",
    desc: "Publish your package to the registry with pnpm",
    tags: ["docs", "free", "publishing", "guide:npm-package"],
  },
  {
    id: "pnpm-workspaces",
    url: "https://pnpm.io/workspaces",
    label: "pnpm Workspaces docs",
    source: "pnpm",
    desc: "pnpm's workspace protocol for managing monorepo package dependencies with strict isolation",
    tags: ["docs", "free", "monorepo", "guide:npm-package"],
    resourceCategory: "Monorepo Tools & Resources",
  },

  // ─── Node.js (nodejs.org) ──────────────────────────────────────────
  {
    id: "nodejs-packages",
    url: "https://nodejs.org/api/packages.html",
    label: "Node.js — Packages Documentation",
    source: "Node.js",
    desc: "How Node.js resolves package exports and entry points — essential for configuring package.json correctly",
    tags: ["docs", "free", "modules", "guide:npm-package"],
    resourceCategory: "Official Documentation",
  },
  {
    id: "nodejs-package-entry-points",
    url: "https://nodejs.org/api/packages.html#package-entry-points",
    label: "Node.js package exports",
    source: "Node.js",
    desc: "How the exports field defines public entry points for packages",
    tags: ["docs", "free", "modules", "guide:npm-package"],
  },
  {
    id: "nodejs-package-exports",
    url: "https://nodejs.org/docs/latest/api/packages.html#exports",
    label: "Node.js exports field",
    source: "Node.js",
    desc: "Conditional exports for ESM vs CJS and subpath patterns",
    tags: ["docs", "free", "modules", "guide:npm-package"],
  },
  {
    id: "nodejs-intro",
    url: "https://nodejs.org/en/learn/getting-started/introduction-to-nodejs",
    label: "Node.js documentation",
    source: "Node.js",
    desc: "Getting started with Node.js — the JavaScript runtime",
    tags: ["docs", "free", "architecture", "guide:architecture"],
  },
  {
    id: "nodejs-commonjs",
    url: "https://nodejs.org/docs/latest/api/modules.html",
    label: "Node.js CommonJS modules",
    source: "Node.js",
    desc: "The require/module.exports module system used in Node.js",
    tags: ["docs", "free", "modules", "guide:npm-package"],
  },

  // ─── TypeScript (typescriptlang.org) ───────────────────────────────
  {
    id: "ts-declaration-files-intro",
    url: "https://www.typescriptlang.org/docs/handbook/declaration-files/introduction.html",
    label: "TypeScript declaration files",
    source: "TypeScript",
    desc: "How .d.ts type declaration files work",
    tags: ["docs", "free", "typescript", "guide:npm-package"],
  },
  {
    id: "ts-declaration-files-publishing",
    url: "https://www.typescriptlang.org/docs/handbook/declaration-files/publishing.html",
    label: "TypeScript — Publishing Declaration Files",
    source: "TypeScript",
    desc: "How to ship .d.ts type declarations so consumers get autocomplete and type checking from your package",
    tags: ["docs", "free", "typescript", "guide:npm-package"],
    resourceCategory: "Official Documentation",
  },
  {
    id: "ts-tsconfig-reference",
    url: "https://www.typescriptlang.org/tsconfig",
    label: "TSConfig Reference",
    source: "TypeScript",
    desc: "Complete reference for all tsconfig.json compiler options",
    tags: ["docs", "free", "typescript", "guide:npm-package"],
  },
  {
    id: "ts-tsconfig-trailing-slash",
    url: "https://www.typescriptlang.org/tsconfig/",
    label: "tsconfig.json reference",
    source: "TypeScript",
    desc: "Complete reference for all tsconfig.json compiler options",
    tags: ["docs", "free", "typescript", "guide:npm-package"],
  },
  {
    id: "ts-what-is-tsconfig",
    url: "https://www.typescriptlang.org/docs/handbook/tsconfig-json.html",
    label: "What is a tsconfig.json?",
    source: "TypeScript",
    desc: "Explains why every TypeScript project needs a tsconfig.json",
    tags: ["docs", "free", "typescript", "guide:npm-package"],
  },
  {
    id: "ts-tsconfig-bases",
    url: "https://github.com/tsconfig/bases",
    label: "Recommended TSConfig bases",
    source: "GitHub",
    desc: "Community-maintained base tsconfig files for common environments",
    tags: ["repo", "free", "typescript", "guide:npm-package"],
  },
  {
    id: "ts-module-resolution",
    url: "https://www.typescriptlang.org/docs/handbook/modules/theory.html",
    label: "Module resolution — Node16 vs Bundler",
    source: "TypeScript",
    desc: "How TypeScript resolves module imports with different strategies",
    tags: ["docs", "free", "typescript", "modules", "guide:npm-package"],
  },
  {
    id: "ts-strict",
    url: "https://www.typescriptlang.org/tsconfig/#strict",
    label: "TypeScript strict mode",
    source: "TypeScript",
    desc: "The strict compiler flag and what checks it enables",
    tags: ["docs", "free", "typescript", "guide:npm-package"],
  },
  {
    id: "ts-tsc-compiler",
    url: "https://www.typescriptlang.org/docs/handbook/2/basic-types.html#tsc-the-typescript-compiler",
    label: "tsc — the TypeScript compiler",
    source: "TypeScript",
    desc: "How the TypeScript compiler transforms TS to JS",
    tags: ["docs", "free", "typescript", "guide:npm-package"],
  },

  // ─── MDN (developer.mozilla.org) ───────────────────────────────────
  {
    id: "mdn-js-modules",
    url: "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules",
    label: "MDN — JavaScript Modules",
    source: "MDN",
    desc: "ESM import/export syntax that npm packages use for tree-shakeable module distribution",
    tags: ["docs", "free", "modules", "guide:npm-package"],
    resourceCategory: "Official Documentation",
  },
  {
    id: "mdn-es-import",
    url: "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import",
    label: "ES Modules: import/export",
    source: "MDN",
    desc: "The import statement for loading ES modules",
    tags: ["docs", "free", "modules", "guide:npm-package"],
  },
  {
    id: "mdn-tree-shaking",
    url: "https://developer.mozilla.org/en-US/docs/Glossary/Tree_shaking",
    label: "Tree shaking — dead code elimination",
    source: "MDN",
    desc: "Build optimization that removes unused code from bundles",
    tags: ["docs", "free", "bundling", "guide:npm-package"],
  },
  {
    id: "mdn-minification",
    url: "https://developer.mozilla.org/en-US/docs/Glossary/Minification",
    label: "Minification",
    source: "MDN",
    desc: "Reducing file size by removing whitespace and shortening variable names",
    tags: ["docs", "free", "bundling", "guide:npm-package"],
  },
  {
    id: "mdn-source-map",
    url: "https://developer.mozilla.org/en-US/docs/Tools/Debugger/How_to/Use_a_source_map",
    label: "Source Maps",
    source: "MDN",
    desc: "Maps minified code back to original source for debugging",
    tags: ["docs", "free", "bundling", "guide:npm-package"],
  },
  {
    id: "mdn-how-web-works",
    url: "https://developer.mozilla.org/en-US/docs/Learn_web_development/Getting_started/Web_standards/How_the_web_works",
    label: "How the web works",
    source: "MDN",
    desc: "Foundational overview of how browsers, servers, and DNS interact",
    tags: ["docs", "free", "architecture", "guide:architecture"],
  },
  {
    id: "mdn-server-side-intro",
    url: "https://developer.mozilla.org/en-US/docs/Learn_web_development/Extensions/Server-side/First_steps/Introduction",
    label: "Introduction to the server side",
    source: "MDN",
    desc: "What server-side programming is and why it matters",
    tags: ["docs", "free", "architecture", "guide:architecture"],
  },
  {
    id: "mdn-what-is-web-server",
    url: "https://developer.mozilla.org/en-US/docs/Learn_web_development/Howto/Web_mechanics/What_is_a_web_server",
    label: "What is a web server?",
    source: "MDN",
    desc: "How web servers work — hardware and software perspectives",
    tags: ["docs", "free", "architecture", "guide:architecture"],
  },
  {
    id: "mdn-web-frameworks",
    url: "https://developer.mozilla.org/en-US/docs/Learn_web_development/Extensions/Server-side/First_steps/Web_frameworks",
    label: "Server-side web frameworks",
    source: "MDN",
    desc: "How frameworks like Express, Django, and Rails handle HTTP requests",
    tags: ["docs", "free", "architecture", "frameworks", "guide:architecture"],
  },
  {
    id: "mdn-http-overview",
    url: "https://developer.mozilla.org/en-US/docs/Web/HTTP/Overview",
    label: "MDN — An overview of HTTP",
    source: "MDN",
    desc: "How the HTTP protocol powers communication between browsers and servers",
    tags: ["docs", "free", "architecture", "guide:architecture"],
  },
  {
    id: "mdn-fetch-api",
    url: "https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API",
    label: "MDN — Fetch API",
    source: "MDN",
    desc: "The modern browser API for making HTTP requests",
    tags: ["docs", "free", "architecture", "guide:architecture"],
  },
  {
    id: "mdn-progressive-enhancement",
    url: "https://developer.mozilla.org/en-US/docs/Glossary/Progressive_Enhancement",
    label: "MDN — Progressive enhancement",
    source: "MDN",
    desc: "Design approach where core functionality works without JavaScript",
    tags: ["docs", "free", "architecture", "frameworks", "guide:architecture"],
  },
  {
    id: "mdn-web-standards",
    url: "https://developer.mozilla.org/en-US/docs/Learn_web_development/Getting_started/Web_standards",
    label: "MDN — Web standards",
    source: "MDN",
    desc: "How web standards are developed and why they matter",
    tags: ["docs", "free", "architecture", "guide:architecture"],
  },

  // ─── semver ────────────────────────────────────────────────────────
  {
    id: "semver-spec",
    url: "https://semver.org/",
    label: "Semantic Versioning Specification",
    source: "semver.org",
    desc: "The versioning contract every npm package follows — defines how version numbers communicate breaking changes",
    tags: ["docs", "free", "versioning", "guide:npm-package"],
    resourceCategory: "Official Documentation",
  },

  // ─── Wikipedia ─────────────────────────────────────────────────────
  {
    id: "wiki-symlink",
    url: "https://en.wikipedia.org/wiki/Symbolic_link",
    label: "Symbolic link (symlink)",
    source: "Wikipedia",
    desc: "A file that points to another file or directory",
    tags: ["docs", "free", "tooling", "guide:npm-package"],
  },
  {
    id: "wiki-api",
    url: "https://en.wikipedia.org/wiki/Application_programming_interface",
    label: "API surface",
    source: "Wikipedia",
    desc: "The set of public functions, classes, and types exposed to consumers",
    tags: ["docs", "free", "publishing", "guide:npm-package"],
  },
  {
    id: "wiki-design-by-contract",
    url: "https://en.wikipedia.org/wiki/Design_by_contract",
    label: "Design by contract",
    source: "Wikipedia",
    desc: "Mutual obligations between software components — what you export and guarantee",
    tags: ["docs", "free", "typescript", "guide:npm-package"],
  },
  {
    id: "wiki-backward-compatibility",
    url: "https://en.wikipedia.org/wiki/Backward_compatibility",
    label: "Backward compatibility",
    source: "Wikipedia",
    desc: "When new versions work with existing consumers without code changes",
    tags: ["docs", "free", "versioning", "guide:npm-package"],
  },
  {
    id: "wiki-changelog",
    url: "https://en.wikipedia.org/wiki/Changelog",
    label: "Changelog",
    source: "Wikipedia",
    desc: "A file documenting notable changes for each version of a project",
    tags: ["docs", "free", "versioning", "guide:npm-package"],
  },
  {
    id: "wiki-static-analysis",
    url: "https://en.wikipedia.org/wiki/Static_program_analysis",
    label: "Static program analysis",
    source: "Wikipedia",
    desc: "Analyzing source code without running it to catch bugs early",
    tags: ["docs", "free", "linting", "guide:npm-package"],
  },
  {
    id: "wiki-ci",
    url: "https://en.wikipedia.org/wiki/Continuous_integration",
    label: "Continuous integration",
    source: "Wikipedia",
    desc: "Automatically building and testing code on every push",
    tags: ["docs", "free", "ci-cd", "guide:npm-package"],
  },
  {
    id: "wiki-dead-code",
    url: "https://en.wikipedia.org/wiki/Dead_code",
    label: "Dead code",
    source: "Wikipedia",
    desc: "Code that is never executed — removing it reduces maintenance burden",
    tags: ["docs", "free", "tooling", "guide:npm-package"],
  },

  // ─── Vite / Vitest ────────────────────────────────────────────────
  {
    id: "vite-getting-started",
    url: "https://vite.dev/guide/",
    label: "Vite — Getting Started",
    source: "Vite",
    desc: "Modern frontend build tool with near-instant HMR",
    tags: ["docs", "free", "bundling", "tooling", "guide:npm-package"],
  },
  {
    id: "vite-library-mode",
    url: "https://vite.dev/guide/build.html#library-mode",
    label: "Vite — Library Mode",
    source: "Vite",
    desc: "Using Vite to build publishable libraries instead of applications",
    tags: ["docs", "free", "bundling", "guide:npm-package"],
  },
  {
    id: "vite-why",
    url: "https://vite.dev/guide/why.html",
    label: "Why Vite",
    source: "Vite",
    desc: "The problems Vite solves compared to older build tools",
    tags: ["docs", "free", "bundling", "tooling", "guide:npm-package"],
  },
  {
    id: "vitest-getting-started",
    url: "https://vitest.dev/guide/",
    label: "Vitest — Getting Started",
    source: "Vitest",
    desc: "Fast Vite-native test runner with Jest-compatible API",
    tags: ["docs", "free", "testing", "guide:npm-package"],
  },
  {
    id: "vitest-coverage",
    url: "https://vitest.dev/guide/coverage",
    label: "Vitest — Coverage",
    source: "Vitest",
    desc: "Built-in coverage reporting with v8 or Istanbul providers",
    tags: ["docs", "free", "testing", "guide:npm-package"],
  },
  {
    id: "vitest-home",
    url: "https://vitest.dev",
    label: "Vitest",
    source: "Vitest",
    desc: "Blazing fast Vite-native test runner with a Jest-compatible API",
    tags: ["docs", "free", "testing", "guide:npm-package"],
  },

  // ─── Build tools ──────────────────────────────────────────────────
  {
    id: "webpack-getting-started",
    url: "https://webpack.js.org/guides/getting-started/",
    label: "Webpack — Getting Started",
    source: "Webpack",
    desc: "The original JavaScript module bundler",
    tags: ["docs", "free", "bundling", "guide:npm-package"],
  },
  {
    id: "tsup",
    url: "https://tsup.egoist.dev/",
    label: "tsup — Bundle TypeScript Libraries",
    source: "tsup",
    desc: "Zero-config TypeScript bundler producing ESM and CJS outputs — the most popular choice for package builds",
    tags: ["docs", "free", "tooling", "bundling", "guide:npm-package"],
    resourceCategory: "Starter Templates & Tools",
  },
  {
    id: "rollup-intro",
    url: "https://rollupjs.org/introduction/",
    label: "Rollup — Module bundler for libraries",
    source: "Rollup",
    desc: "ES module bundler optimized for library output",
    tags: ["docs", "free", "bundling", "guide:npm-package"],
  },
  {
    id: "knip",
    url: "https://knip.dev/",
    label: "knip — Find unused files, dependencies and exports",
    source: "knip",
    desc: "Detect unused code and dependencies in your project",
    tags: ["docs", "free", "tooling", "guide:npm-package"],
  },
  {
    id: "syncpack",
    url: "https://jamiemason.github.io/syncpack/",
    label: "syncpack — Consistent dependency versions",
    source: "syncpack",
    desc: "Keep dependency versions consistent across monorepo packages",
    tags: ["docs", "free", "tooling", "monorepo", "guide:npm-package"],
  },

  // ─── ESLint & formatting ──────────────────────────────────────────
  {
    id: "eslint-getting-started",
    url: "https://eslint.org/docs/latest/use/getting-started",
    label: "ESLint — Getting Started",
    source: "ESLint",
    desc: "The standard JavaScript/TypeScript linter — official setup guide",
    tags: ["docs", "free", "linting", "guide:npm-package"],
  },
  {
    id: "prettier-install",
    url: "https://prettier.io/docs/en/install",
    label: "Prettier — Install",
    source: "Prettier",
    desc: "The traditional code formatter for JS/TS projects",
    tags: ["docs", "free", "linting", "guide:npm-package"],
  },
  {
    id: "eslint-stylistic",
    url: "https://eslint.style/",
    label: "eslint-stylistic — Formatting with ESLint",
    source: "eslint-stylistic",
    desc: "Drop-in Prettier replacement using ESLint formatting rules",
    tags: ["docs", "free", "linting", "guide:npm-package"],
  },
  {
    id: "antfu-why-not-prettier",
    url: "https://antfu.me/posts/why-not-prettier",
    label: "Why I don't use Prettier (Anthony Fu)",
    source: "Blog",
    desc: "Case for eslint-stylistic over Prettier from a core Vite maintainer",
    tags: ["article", "free", "linting", "guide:npm-package"],
  },

  // ─── Testing tools ────────────────────────────────────────────────
  {
    id: "playwright-getting-started",
    url: "https://playwright.dev/docs/intro",
    label: "Playwright — Getting Started",
    source: "Playwright",
    desc: "Cross-browser E2E testing framework from Microsoft",
    tags: ["docs", "free", "testing", "guide:npm-package"],
  },
  {
    id: "playwright-home",
    url: "https://playwright.dev",
    label: "Playwright",
    source: "Playwright",
    desc: "Modern E2E framework with auto-waiting, multi-browser support, and test generation",
    tags: ["docs", "free", "testing", "guide:npm-package"],
  },
  {
    id: "testing-library-guiding-principles",
    url: "https://testing-library.com/docs/guiding-principles",
    label: "Testing Library — Guiding Principles",
    source: "Testing Library",
    desc: "Philosophy behind testing user-facing behavior, not implementation details",
    tags: ["docs", "free", "testing", "guide:npm-package"],
  },
  {
    id: "testing-library-react-intro",
    url: "https://testing-library.com/docs/react-testing-library/intro/",
    label: "React Testing Library",
    source: "Testing Library",
    desc: "The standard for testing React components by simulating user interactions",
    tags: ["docs", "free", "testing", "guide:npm-package"],
  },
  {
    id: "kentcdodds-write-tests",
    url: "https://kentcdodds.com/blog/write-tests",
    label: "Kent C. Dodds — Write tests. Not too many.",
    source: "Blog",
    desc: "Influential essay on testing strategy and the testing trophy",
    tags: ["article", "free", "testing", "guide:npm-package"],
  },
  {
    id: "kentcdodds-testing-trophy",
    url: "https://kentcdodds.com/blog/the-testing-trophy-and-testing-classifications",
    label: "Testing Trophy",
    source: "Kent C. Dodds",
    desc: "An alternative model that emphasizes integration tests over unit tests for frontend apps",
    tags: ["article", "free", "testing", "guide:npm-package"],
  },
  {
    id: "martinfowler-test-pyramid",
    url: "https://martinfowler.com/articles/practical-test-pyramid.html",
    label: "The Practical Test Pyramid",
    source: "Martin Fowler",
    desc: "Foundational article on structuring test suites with the right balance of unit, integration, and E2E tests",
    tags: ["article", "free", "testing", "guide:npm-package"],
  },
  {
    id: "jest-home",
    url: "https://jestjs.io",
    label: "Jest",
    source: "Jest",
    desc: "The most widely used JavaScript testing framework",
    tags: ["docs", "free", "testing", "guide:npm-package"],
  },
  {
    id: "jest-getting-started",
    url: "https://jestjs.io/docs/getting-started",
    label: "Jest documentation",
    source: "Jest",
    desc: "Getting started with the Jest testing framework",
    tags: ["docs", "free", "testing", "guide:npm-package"],
  },
  {
    id: "cypress-home",
    url: "https://docs.cypress.io",
    label: "Cypress documentation",
    source: "Cypress",
    desc: "Developer-friendly E2E testing with a built-in time-travel debugger",
    tags: ["docs", "free", "testing", "guide:npm-package"],
  },

  // ─── Storybook ────────────────────────────────────────────────────
  {
    id: "storybook-getting-started",
    url: "https://storybook.js.org/docs/get-started",
    label: "Storybook — Getting Started",
    source: "Storybook",
    desc: "Develop and test UI components in isolation",
    tags: ["docs", "free", "tooling", "testing", "guide:npm-package"],
  },
  {
    id: "storybook-why",
    url: "https://storybook.js.org/docs/get-started/why-storybook",
    label: "Storybook — Why Storybook?",
    source: "Storybook",
    desc: "Why component-driven development with Storybook improves your workflow",
    tags: ["docs", "free", "tooling", "testing", "guide:npm-package"],
  },
  {
    id: "storybook-writing-stories",
    url: "https://storybook.js.org/docs/writing-stories",
    label: "Storybook — Writing Stories",
    source: "Storybook",
    desc: "How to write stories that showcase component states",
    tags: ["docs", "free", "tooling", "testing", "guide:npm-package"],
  },
  {
    id: "storybook-home",
    url: "https://storybook.js.org",
    label: "Storybook",
    source: "Storybook",
    desc: "Develop and test UI components in isolation with visual tests",
    tags: ["docs", "free", "tooling", "testing", "guide:npm-package"],
  },
  {
    id: "chromatic",
    url: "https://www.chromatic.com/",
    label: "Chromatic — Visual testing for Storybook",
    source: "Chromatic",
    desc: "Automated visual regression testing for Storybook stories",
    tags: ["docs", "free", "tooling", "testing", "guide:npm-package"],
  },

  // ─── GitHub ───────────────────────────────────────────────────────
  {
    id: "gh-actions-quickstart",
    url: "https://docs.github.com/en/actions/quickstart",
    label: "GitHub Actions — Quickstart",
    source: "GitHub",
    desc: "Get started with GitHub Actions CI/CD workflows",
    tags: ["docs", "free", "ci-cd", "guide:npm-package"],
  },
  {
    id: "gh-actions-understanding",
    url: "https://docs.github.com/en/actions/about-github-actions/understanding-github-actions",
    label: "Understanding GitHub Actions",
    source: "GitHub",
    desc: "How GitHub Actions workflows, jobs, and steps work",
    tags: ["docs", "free", "ci-cd", "guide:npm-package"],
  },
  {
    id: "git-hooks",
    url: "https://git-scm.com/book/en/v2/Customizing-Git-Git-Hooks",
    label: "Git Hooks",
    source: "Git",
    desc: "Scripts that run automatically at specific points in the Git workflow",
    tags: ["docs", "free", "ci-cd", "guide:npm-package"],
  },

  // ─── Versioning tools ─────────────────────────────────────────────
  {
    id: "changesets",
    url: "https://github.com/changesets/changesets",
    label: "changesets — Version Management",
    source: "GitHub",
    desc: "Manages versioning and changelogs across packages, especially useful in monorepo setups",
    tags: ["repo", "free", "versioning", "monorepo", "guide:npm-package"],
    resourceCategory: "Starter Templates & Tools",
  },
  {
    id: "semantic-release",
    url: "https://semantic-release.gitbook.io/semantic-release",
    label: "semantic-release",
    source: "Docs",
    desc: "Automates version bumps, npm publishing, and changelog generation based on commit messages",
    tags: ["docs", "free", "versioning", "ci-cd", "guide:npm-package"],
    resourceCategory: "Starter Templates & Tools",
  },
  {
    id: "conventional-commits",
    url: "https://www.conventionalcommits.org/",
    label: "Conventional Commits",
    source: "Docs",
    desc: "Commit message standard that enables automated version bumps and changelog generation for packages",
    tags: ["docs", "free", "versioning", "guide:npm-package"],
    resourceCategory: "Articles & Tutorials",
  },

  // ─── Monorepo tools ───────────────────────────────────────────────
  {
    id: "turborepo",
    url: "https://turbo.build/repo/docs",
    label: "Turborepo — Getting Started",
    source: "Turborepo",
    desc: "Build system for JS/TS monorepos with smart caching — ideal for developing multiple related packages",
    tags: ["docs", "free", "monorepo", "tooling", "guide:npm-package"],
    resourceCategory: "Monorepo Tools & Resources",
  },
  {
    id: "nx",
    url: "https://nx.dev/getting-started/intro",
    label: "Nx — Getting Started",
    source: "Nx",
    desc: "Full-featured monorepo tool with dependency graph and code generation for multi-package repos",
    tags: ["docs", "free", "monorepo", "tooling", "guide:npm-package"],
    resourceCategory: "Monorepo Tools & Resources",
  },
  {
    id: "lerna",
    url: "https://lerna.js.org/",
    label: "Lerna — Modern Monorepo Management",
    source: "Lerna",
    desc: "Coordinates versioning and publishing across multiple packages in a monorepo",
    tags: ["docs", "free", "monorepo", "publishing", "guide:npm-package"],
    resourceCategory: "Monorepo Tools & Resources",
  },

  // ─── React ecosystem ──────────────────────────────────────────────
  {
    id: "react-learn",
    url: "https://react.dev/learn",
    label: "React documentation",
    source: "React",
    desc: "Official React tutorial and documentation",
    tags: ["docs", "free", "frameworks", "guide:architecture"],
  },
  {
    id: "react-server-components",
    url: "https://react.dev/reference/rsc/server-components",
    label: "React Server Components",
    source: "React",
    desc: "Components that render entirely on the server, reducing client-side JavaScript",
    tags: ["docs", "free", "frameworks", "guide:architecture"],
  },
  {
    id: "nextjs-docs",
    url: "https://nextjs.org/docs",
    label: "Next.js documentation",
    source: "Next.js",
    desc: "The most popular React meta-framework by Vercel",
    tags: ["docs", "free", "frameworks", "guide:architecture"],
  },
  {
    id: "nextjs-app-router",
    url: "https://nextjs.org/docs/app",
    label: "Next.js App Router",
    source: "Next.js",
    desc: "Next.js file-system based routing with React Server Components",
    tags: ["docs", "free", "frameworks", "guide:architecture"],
  },
  {
    id: "nextjs-server-components",
    url: "https://nextjs.org/docs/app/building-your-application/rendering/server-components",
    label: "Next.js Server Components",
    source: "Next.js",
    desc: "How Next.js implements React Server Components",
    tags: ["docs", "free", "frameworks", "guide:architecture"],
  },
  {
    id: "nextjs-ssg",
    url: "https://nextjs.org/docs/pages/building-your-application/rendering/static-site-generation",
    label: "Next.js Static Site Generation",
    source: "Next.js",
    desc: "Pre-building HTML pages at build time for fastest delivery",
    tags: ["docs", "free", "frameworks", "guide:architecture"],
  },
  {
    id: "nextjs-routing",
    url: "https://nextjs.org/docs/app/building-your-application/routing",
    label: "Next.js File-System Routing",
    source: "Next.js",
    desc: "How Next.js maps file structure to URL routes",
    tags: ["docs", "free", "frameworks", "guide:architecture"],
  },
  {
    id: "vercel-docs",
    url: "https://vercel.com/docs",
    label: "Vercel platform documentation",
    source: "Vercel",
    desc: "Deployment platform optimized for Next.js and frontend frameworks",
    tags: ["docs", "free", "frameworks", "guide:architecture"],
  },
  {
    id: "react-router-docs",
    url: "https://reactrouter.com/start/framework/installation",
    label: "React Router documentation",
    source: "React Router",
    desc: "React Router v7 full-stack framework mode",
    tags: ["docs", "free", "frameworks", "guide:architecture"],
  },
  {
    id: "react-router-data-loading",
    url: "https://reactrouter.com/start/framework/data-loading",
    label: "React Router data loading",
    source: "React Router",
    desc: "Loader/action pattern for data fetching and mutations",
    tags: ["docs", "free", "frameworks", "guide:architecture"],
  },
  {
    id: "react-router-v7-home",
    url: "https://reactrouter.com/",
    label: "React Router v7 documentation",
    source: "React Router",
    desc: "React Router v7 — the successor to Remix",
    tags: ["docs", "free", "frameworks", "guide:architecture"],
  },
  {
    id: "remix-merger-blog",
    url: "https://remix.run/blog/merging-remix-and-react-router",
    label: "Remixing React Router",
    source: "Remix",
    desc: "Official blog post explaining the merger of Remix into React Router v7",
    tags: ["article", "free", "frameworks", "guide:architecture"],
  },
  {
    id: "tanstack-start",
    url: "https://tanstack.com/start/latest",
    label: "TanStack Start documentation",
    source: "TanStack",
    desc: "Type-safe full-stack framework from the TanStack ecosystem",
    tags: ["docs", "free", "frameworks", "typescript", "guide:architecture"],
  },
  {
    id: "tanstack-router",
    url: "https://tanstack.com/router/latest",
    label: "TanStack Router documentation",
    source: "TanStack",
    desc: "Fully type-safe routing for React applications",
    tags: ["docs", "free", "frameworks", "typescript", "guide:architecture"],
  },
  {
    id: "tanstack-query",
    url: "https://tanstack.com/query/latest",
    label: "TanStack Query documentation",
    source: "TanStack",
    desc: "Async state management for server data fetching",
    tags: ["docs", "free", "frameworks", "guide:architecture"],
  },

  // ─── web.dev ──────────────────────────────────────────────────────
  {
    id: "webdev-rendering",
    url: "https://web.dev/articles/rendering-on-the-web",
    label: "Rendering on the Web",
    source: "web.dev",
    desc: "Comprehensive guide to rendering strategies: SSR, CSR, SSG, and hybrid approaches",
    tags: ["article", "free", "architecture", "frameworks", "guide:architecture"],
  },
  {
    id: "webdev-server-rendering",
    url: "https://web.dev/articles/rendering-on-the-web#server-rendering",
    label: "Server-side rendering vs client-side rendering",
    source: "web.dev",
    desc: "Comparing SSR and CSR trade-offs for web applications",
    tags: ["article", "free", "architecture", "frameworks", "guide:architecture"],
  },

  // ─── Architecture: backend frameworks ─────────────────────────────
  {
    id: "mongodb-manual",
    url: "https://www.mongodb.com/docs/manual/",
    label: "MongoDB documentation",
    source: "MongoDB",
    desc: "Official documentation for the MongoDB NoSQL database",
    tags: ["docs", "free", "databases", "guide:architecture"],
  },
  {
    id: "mongodb-nosql-explained",
    url: "https://www.mongodb.com/resources/basics/databases/nosql-explained",
    label: "NoSQL explained",
    source: "MongoDB",
    desc: "Overview of NoSQL database types and when to use them",
    tags: ["docs", "free", "databases", "guide:architecture"],
  },
  {
    id: "express-routing",
    url: "https://expressjs.com/en/guide/routing.html",
    label: "Express.js guide",
    source: "Express",
    desc: "Routing guide for the Express Node.js web framework",
    tags: ["docs", "free", "architecture", "guide:architecture"],
  },
  {
    id: "angular-overview",
    url: "https://angular.dev/overview",
    label: "Angular documentation",
    source: "Angular",
    desc: "The Angular framework for building web applications",
    tags: ["docs", "free", "frameworks", "guide:architecture"],
  },
  {
    id: "angular-cli",
    url: "https://angular.dev/tools/cli",
    label: "Angular CLI overview",
    source: "Angular",
    desc: "Command-line tools for Angular projects",
    tags: ["docs", "free", "frameworks", "tooling", "guide:architecture"],
  },
  {
    id: "angular-typecheck",
    url: "https://angular.dev/tools/cli/template-typecheck",
    label: "TypeScript and Angular",
    source: "Angular",
    desc: "How Angular uses TypeScript for template type checking",
    tags: ["docs", "free", "frameworks", "typescript", "guide:architecture"],
  },
  {
    id: "postgresql-docs",
    url: "https://www.postgresql.org/docs/current/",
    label: "PostgreSQL documentation",
    source: "PostgreSQL",
    desc: "Official documentation for the PostgreSQL relational database",
    tags: ["docs", "free", "databases", "guide:architecture"],
  },
  {
    id: "postgresql-sql",
    url: "https://www.postgresql.org/docs/current/sql.html",
    label: "PostgreSQL SQL reference",
    source: "PostgreSQL",
    desc: "SQL language reference for PostgreSQL",
    tags: ["docs", "free", "databases", "guide:architecture"],
  },
  {
    id: "postgresql-ddl",
    url: "https://www.postgresql.org/docs/current/ddl.html",
    label: "PostgreSQL data definition",
    source: "PostgreSQL",
    desc: "Creating and managing database schemas in PostgreSQL",
    tags: ["docs", "free", "databases", "guide:architecture"],
  },
  {
    id: "postgresql-transactions",
    url: "https://www.postgresql.org/docs/current/transaction-iso.html",
    label: "PostgreSQL transaction isolation",
    source: "PostgreSQL",
    desc: "ACID transaction isolation levels in PostgreSQL",
    tags: ["docs", "free", "databases", "guide:architecture"],
  },
  {
    id: "fastify-docs",
    url: "https://fastify.dev/docs/latest/",
    label: "Fastify documentation",
    source: "Fastify",
    desc: "Fast and low-overhead Node.js web framework",
    tags: ["docs", "free", "architecture", "guide:architecture"],
  },
  {
    id: "fastify-benchmarks",
    url: "https://fastify.dev/benchmarks/",
    label: "Fastify benchmarks",
    source: "Fastify",
    desc: "Performance benchmarks comparing Fastify to other Node.js frameworks",
    tags: ["docs", "free", "architecture", "guide:architecture"],
  },
  {
    id: "php-manual",
    url: "https://www.php.net/manual/en/",
    label: "PHP documentation",
    source: "PHP",
    desc: "Official PHP language documentation",
    tags: ["docs", "free", "architecture", "guide:architecture"],
  },
  {
    id: "apache-docs",
    url: "https://httpd.apache.org/docs/current/",
    label: "Apache HTTP Server documentation",
    source: "Apache",
    desc: "The battle-tested open-source web server",
    tags: ["docs", "free", "architecture", "guide:architecture"],
  },
  {
    id: "mysql-docs",
    url: "https://dev.mysql.com/doc/refman/en/",
    label: "MySQL documentation",
    source: "MySQL",
    desc: "Official MySQL relational database documentation",
    tags: ["docs", "free", "databases", "guide:architecture"],
  },
  {
    id: "w3techs-server-languages",
    url: "https://w3techs.com/technologies/overview/programming_language",
    label: "W3Techs — Usage of server-side languages",
    source: "W3Techs",
    desc: "Statistics on server-side programming language usage across the web",
    tags: ["docs", "free", "architecture", "guide:architecture"],
  },
  {
    id: "django-docs",
    url: "https://docs.djangoproject.com/en/5.1/",
    label: "Django documentation",
    source: "Django",
    desc: "The batteries-included Python web framework",
    tags: ["docs", "free", "architecture", "guide:architecture"],
  },
  {
    id: "django-models",
    url: "https://docs.djangoproject.com/en/5.1/topics/db/models/",
    label: "Django models (ORM)",
    source: "Django",
    desc: "How Django's ORM maps Python objects to database tables",
    tags: ["docs", "free", "architecture", "databases", "guide:architecture"],
  },
  {
    id: "django-rest-framework",
    url: "https://www.django-rest-framework.org/",
    label: "Django REST framework",
    source: "Django REST",
    desc: "Toolkit for building REST APIs with Django",
    tags: ["docs", "free", "architecture", "guide:architecture"],
  },
  {
    id: "python-docs",
    url: "https://docs.python.org/3/",
    label: "Python documentation",
    source: "Python",
    desc: "Official Python language documentation",
    tags: ["docs", "free", "architecture", "guide:architecture"],
  },
  {
    id: "rails-guides",
    url: "https://guides.rubyonrails.org/",
    label: "Ruby on Rails guides",
    source: "Rails",
    desc: "Comprehensive guides to the Rails web framework",
    tags: ["docs", "free", "architecture", "frameworks", "guide:architecture"],
  },
  {
    id: "rails-doctrine",
    url: "https://rubyonrails.org/doctrine",
    label: "The Rails Doctrine",
    source: "Rails",
    desc: "Core principles behind Rails — Convention over Configuration and more",
    tags: ["article", "free", "architecture", "frameworks", "guide:architecture"],
  },
  {
    id: "hotwired",
    url: "https://hotwired.dev/",
    label: "Hotwire documentation",
    source: "Hotwired",
    desc: "HTML-over-the-wire approach combining Turbo and Stimulus for Rails frontends",
    tags: ["docs", "free", "architecture", "frameworks", "guide:architecture"],
  },
  {
    id: "microsoft-api-design",
    url: "https://learn.microsoft.com/en-us/azure/architecture/best-practices/api-design",
    label: "REST API design best practices",
    source: "Microsoft",
    desc: "Comprehensive guide to designing web APIs that are consistent and maintainable",
    tags: ["article", "free", "architecture", "guide:architecture"],
  },

  // ─── Articles & courses ───────────────────────────────────────────
  {
    id: "snyk-npm-best-practices",
    url: "https://snyk.io/blog/best-practices-create-modern-npm-package/",
    label: "Best Practices for Creating a Modern npm Package (Snyk)",
    source: "Snyk",
    desc: "End-to-end walkthrough covering TypeScript setup, CI/CD pipelines, security, and automated releases",
    tags: ["article", "free", "publishing", "ci-cd", "guide:npm-package"],
    resourceCategory: "Articles & Tutorials",
  },
  {
    id: "akash-ts-npm",
    url: "https://akashrajpurohit.com/blog/building-and-publishing-typescript-npm-packages-a-stepbystep-guide/",
    label: "Building and Publishing TypeScript NPM Packages",
    source: "Blog",
    desc: "Step-by-step guide using tsup, vitest, and semantic-release to build and publish a TypeScript package",
    tags: ["article", "free", "publishing", "typescript", "guide:npm-package"],
    resourceCategory: "Articles & Tutorials",
  },
  {
    id: "atomic-npm-ts",
    url: "https://spin.atomicobject.com/npm-package-typescript/",
    label: "How to Create an NPM Package in TypeScript (Atomic Object)",
    source: "Blog",
    desc: "Ground-up tutorial building a minimal importable TypeScript module from scratch",
    tags: ["article", "free", "publishing", "typescript", "guide:npm-package"],
    resourceCategory: "Articles & Tutorials",
  },
  {
    id: "egghead-publish-npm",
    url: "https://egghead.io/courses/publish-javascript-packages-on-npm",
    label: "Publish JavaScript Packages on npm (egghead.io)",
    source: "egghead.io",
    desc: "Hands-on video course covering package creation, testing, publishing, and update workflows on npm",
    tags: ["course", "free", "video", "publishing", "guide:npm-package"],
    resourceCategory: "Free Courses & Interactive Learning",
  },
  {
    id: "egghead-oss-library",
    url: "https://egghead.io/courses/how-to-write-an-open-source-javascript-library",
    label: "How to Write an Open Source JavaScript Library (egghead.io)",
    source: "egghead.io",
    desc: "Covers GitHub setup, npm publishing, semantic-release, and CI automation for open-source packages",
    tags: ["course", "free", "video", "publishing", "ci-cd", "guide:npm-package"],
    resourceCategory: "Free Courses & Interactive Learning",
  },
  {
    id: "nodeschool",
    url: "https://nodeschool.io/",
    label: "NodeSchool Workshops",
    source: "NodeSchool",
    desc: "Terminal-based tutorials for Node.js and npm fundamentals — builds the foundation for package development",
    tags: ["interactive", "free", "guide:npm-package"],
    resourceCategory: "Free Courses & Interactive Learning",
  },
  {
    id: "codedamn-npm",
    url: "https://codedamn.com/learn/npm-basics",
    label: "Learn NPM — codedamn",
    source: "codedamn",
    desc: "Browser-based interactive exercises covering npm basics like installing, updating, and managing packages",
    tags: ["interactive", "free", "guide:npm-package"],
    resourceCategory: "Free Courses & Interactive Learning",
  },
  {
    id: "udemy-npm-complete",
    url: "https://www.udemy.com/course/creating-npm-packages-the-complete-guide/",
    label: "Creating NPM Packages: The Complete Guide (Udemy)",
    source: "Udemy",
    desc: "Comprehensive course covering tree-shaking, CI automation, pre-release versions, and TypeScript package setup",
    tags: ["course", "paid", "video", "publishing", "typescript", "guide:npm-package"],
    resourceCategory: "Paid Courses",
  },
  {
    id: "udemy-npm-mastery",
    url: "https://www.udemy.com/course/npm-mastery-nodejs-package-management-publishing/",
    label: "NPM Mastery: Package Management & Publishing (Udemy)",
    source: "Udemy",
    desc: "Bootcamp-style course from package basics to publishing, with a capstone CLI project",
    tags: ["course", "paid", "video", "publishing", "guide:npm-package"],
    resourceCategory: "Paid Courses",
  },
  {
    id: "udemy-npm-understanding",
    url: "https://www.udemy.com/course/understanding-npm/",
    label: "Understanding NPM (Udemy)",
    source: "Udemy",
    desc: "Deep dive into npm internals — scripts, bins, semver, and lock files relevant to package authoring",
    tags: ["course", "paid", "video", "guide:npm-package"],
    resourceCategory: "Paid Courses",
  },
  {
    id: "npm-boilerplate-2025",
    url: "https://github.com/simonorzel26/npm-package-boilerplate-2025",
    label: "npm Package Boilerplate 2025",
    source: "GitHub",
    desc: "Opinionated starter template with pnpm, TypeScript, dual ESM+CJS output, and automated releases",
    tags: ["repo", "free", "publishing", "typescript", "guide:npm-package"],
    resourceCategory: "Starter Templates & Tools",
  },

  // ─── Testing Guide ─────────────────────────────────────────────────
  {
    id: "testing-library-queries",
    url: "https://testing-library.com/docs/queries/about/",
    label: "Testing Library — Queries",
    source: "Testing Library",
    desc: "Reference for Testing Library query methods (getBy, findBy, queryBy) used to select DOM elements in component tests",
    tags: ["docs", "free", "testing", "guide:testing"],
  },
  {
    id: "vitest-mocking",
    url: "https://vitest.dev/guide/mocking",
    label: "Vitest — Mocking",
    source: "Vitest",
    desc: "How to mock modules, functions, and timers in Vitest for isolated unit tests",
    tags: ["docs", "free", "testing", "guide:testing"],
  },

  // ─── Prompt Engineering Guide ──────────────────────────────────────
  {
    id: "anthropic-prompt-engineering",
    url: "https://docs.anthropic.com/en/docs/build-with-claude/prompt-engineering/overview",
    label: "Prompt Engineering Overview",
    source: "Anthropic",
    desc: "Anthropic's official guide to crafting effective prompts — techniques ordered from broadly effective to specialized",
    tags: ["docs", "free", "prompt-engineering", "guide:prompt-engineering"],
    resourceCategory: "Official Documentation",
  },
  {
    id: "anthropic-claude-code",
    url: "https://docs.anthropic.com/en/docs/claude-code/overview",
    label: "Claude Code Overview",
    source: "Anthropic",
    desc: "Official documentation for Claude Code — the AI coding assistant for the terminal",
    tags: ["docs", "free", "prompt-engineering", "guide:prompt-engineering"],
    resourceCategory: "Official Documentation",
  },
  {
    id: "anthropic-system-prompts",
    url: "https://docs.anthropic.com/en/docs/build-with-claude/prompt-engineering/system-prompts",
    label: "System Prompts Guide",
    source: "Anthropic",
    desc: "How to design effective system prompts that set Claude's role, constraints, and behavior",
    tags: ["docs", "free", "prompt-engineering", "guide:prompt-engineering"],
  },
  {
    id: "anthropic-extended-thinking",
    url: "https://docs.anthropic.com/en/docs/build-with-claude/extended-thinking",
    label: "Building with Extended Thinking",
    source: "Anthropic",
    desc: "How Claude's extended thinking mode works for step-by-step reasoning on complex problems",
    tags: ["docs", "free", "prompt-engineering", "guide:prompt-engineering"],
  },
  {
    id: "anthropic-mcp",
    url: "https://modelcontextprotocol.io/",
    label: "Model Context Protocol",
    source: "MCP",
    desc: "Open standard for connecting AI models to external tools, data sources, and systems",
    tags: ["docs", "free", "prompt-engineering", "guide:prompt-engineering"],
    resourceCategory: "Official Documentation",
  },
  {
    id: "anthropic-claude-md",
    url: "https://docs.anthropic.com/en/docs/claude-code/memory",
    label: "Claude Code Memory (CLAUDE.md)",
    source: "Anthropic",
    desc: "How CLAUDE.md files give Claude Code persistent project context across sessions",
    tags: ["docs", "free", "prompt-engineering", "guide:prompt-engineering"],
  },
  {
    id: "anthropic-tool-use",
    url: "https://docs.anthropic.com/en/docs/build-with-claude/tool-use/overview",
    label: "Tool Use Overview",
    source: "Anthropic",
    desc: "How Claude uses tools for function calling, external integrations, and agentic workflows",
    tags: ["docs", "free", "prompt-engineering", "guide:prompt-engineering"],
  },
  {
    id: "openai-prompt-engineering",
    url: "https://platform.openai.com/docs/guides/prompt-engineering",
    label: "Prompt Engineering Guide (OpenAI)",
    source: "OpenAI",
    desc: "OpenAI's prompt engineering guide — useful cross-reference for general techniques applicable across models",
    tags: ["docs", "free", "prompt-engineering", "guide:prompt-engineering"],
    resourceCategory: "Articles & Tutorials",
  },
  {
    id: "anthropic-prompt-caching",
    url: "https://docs.anthropic.com/en/docs/build-with-claude/prompt-caching",
    label: "Prompt Caching",
    source: "Anthropic",
    desc: "Reuse repeated context across API calls to reduce costs and latency",
    tags: ["docs", "free", "prompt-engineering", "guide:prompt-engineering"],
  },
  {
    id: "learnprompting-org",
    url: "https://learnprompting.org/",
    label: "Learn Prompting",
    source: "Learn Prompting",
    desc: "Free open-source course covering prompt engineering fundamentals and advanced techniques",
    tags: ["course", "free", "prompt-engineering", "guide:prompt-engineering"],
    resourceCategory: "Free Courses & Interactive Learning",
  },
  {
    id: "anthropic-claude-code-hooks",
    url: "https://docs.anthropic.com/en/docs/claude-code/hooks",
    label: "Claude Code Hooks Reference",
    source: "Anthropic",
    desc: "User-defined shell commands that execute automatically at lifecycle points in Claude Code sessions",
    tags: ["docs", "free", "prompt-engineering", "guide:prompt-engineering"],
  },
  {
    id: "anthropic-claude-code-skills",
    url: "https://docs.anthropic.com/en/docs/claude-code/slash-commands",
    label: "Claude Code Slash Commands",
    source: "Anthropic",
    desc: "Custom reusable slash commands and skills for Claude Code workflows",
    tags: ["docs", "free", "prompt-engineering", "guide:prompt-engineering"],
  },
]

/** Fast lookup by registry ID */
export const linkById = new Map<string, RegistryLink>(
  linkRegistry.map(link => [link.id, link])
)

/** Fast lookup by URL (for validation and deduplication) */
export const linkByUrl = new Map<string, RegistryLink>(
  linkRegistry.map(link => [link.url, link])
)

/**
 * Resolve a registry ID to a SectionLink (the shape consumed by FootnoteContext).
 * Throws if the ID is unknown — catches broken references during dev server startup.
 */
export function resolveLink(id: string, noteOverride?: string): SectionLink {
  const entry = linkById.get(id)
  if (!entry) {
    throw new Error(`[linkRegistry] Unknown link ID: "${id}". Add it to src/data/linkRegistry.ts.`)
  }
  return {
    label: entry.label,
    url: entry.url,
    source: entry.source,
    note: noteOverride ?? undefined,
  }
}
