import type { AwsService } from './types'

export const CONTAINER_SERVICES: AwsService[] = [
  {
    id: 'ecs',
    name: 'ECS',
    fullName: 'Elastic Container Service',
    cat: 'containers',
    level: 'intermediate',
    icon: '\u{1F433}',
    short: 'Run Docker containers at scale. You define your container images, and ECS handles placing them on servers and keeping them running.',
    analogy: 'A shipping port manager that loads containers onto ships, monitors them, and replaces any that fall overboard.',
    detail: 'ECS runs your Docker containers on a cluster of EC2 instances or on Fargate (serverless). You write a "task definition" (a JSON recipe for your container \u2014 image, CPU, memory, ports, env vars), and ECS ensures the right number of containers are always running. It integrates with ALB for load balancing and CloudWatch for logging.',
    useCases: [
      'Running microservices',
      'Batch processing jobs',
      'Any Dockerized application at scale',
    ],
    keyTerms: {
      Task: 'A running instance of your container(s)',
      Service: 'Ensures a specified number of tasks are always running',
      'Task Definition': 'A blueprint for your container (image, resources, ports)',
    },
    pricing: 'No additional charge for ECS itself \u2014 you pay for EC2 or Fargate resources.',
  },
  {
    id: 'fargate',
    name: 'Fargate',
    fullName: 'AWS Fargate',
    cat: 'containers',
    level: 'intermediate',
    icon: '\u{1F6A2}',
    short: 'Serverless containers. Run Docker containers without managing servers. Like Lambda, but for containers instead of functions.',
    analogy: 'A cruise ship that appears when you need it \u2014 you describe your container, and Fargate gives it a place to run. No ship maintenance.',
    detail: 'Fargate is a compute engine for ECS (and EKS) that removes the need to manage EC2 instances. You specify CPU and memory for your container, and Fargate provisions the right resources. It\'s "serverless containers" \u2014 you focus on your application, not infrastructure.',
    useCases: [
      'Microservices without managing servers',
      'Background workers and job processors',
      'Teams that know Docker but don\'t want to manage EC2',
    ],
    keyTerms: {
      'Launch Type': 'Whether ECS runs on EC2 or Fargate',
      'vCPU/Memory': 'The resource allocation for your container',
    },
    pricing: 'Pay per vCPU and memory per second. ~$0.04048/vCPU/hr, ~$0.004445/GB/hr.',
  },
  {
    id: 'ecr',
    name: 'ECR',
    fullName: 'Elastic Container Registry',
    cat: 'containers',
    level: 'intermediate',
    icon: '\u{1F4CB}',
    short: 'A private Docker image registry. Store, manage, and deploy your container images within AWS.',
    analogy: 'A private app store for your Docker images \u2014 only your team can upload and download from it.',
    detail: 'ECR is like Docker Hub, but private and inside your AWS account. You push Docker images to ECR, and ECS/Fargate/EKS pull from it when deploying containers. It scans images for vulnerabilities, supports lifecycle policies to clean up old images, and integrates with IAM for access control.',
    useCases: [
      'Storing Docker images for CI/CD pipelines',
      'Serving as the image source for ECS/EKS deployments',
    ],
    keyTerms: {
      Repository: 'A collection of Docker images (one per app/service)',
      'Image Tag': 'A version label (like "latest", "v1.2.3")',
    },
    pricing: 'Free tier: 500 MB storage/month for private repos. After: $0.10/GB/month.',
  },
  {
    id: 'eks',
    name: 'EKS',
    fullName: 'Elastic Kubernetes Service',
    cat: 'containers',
    level: 'advanced',
    icon: '\u2638\uFE0F',
    short: 'Managed Kubernetes. If your team already uses Kubernetes, EKS runs and manages the control plane for you.',
    analogy: 'An orchestra conductor (Kubernetes) that AWS keeps in top shape \u2014 you bring the musicians (containers).',
    detail: 'EKS runs a managed Kubernetes control plane. If you\'re not already using Kubernetes, you probably don\'t need EKS \u2014 ECS + Fargate is simpler. But if your team has Kubernetes expertise or needs multi-cloud portability, EKS gives you a production-ready K8s cluster without managing the control plane.',
    useCases: [
      'Teams with existing Kubernetes workflows',
      'Multi-cloud strategies',
      'Complex microservice architectures',
    ],
    keyTerms: {
      Cluster: 'A Kubernetes deployment (control plane + worker nodes)',
      Pod: 'The smallest unit in Kubernetes \u2014 one or more containers',
      Node: 'A worker machine that runs pods',
    },
    pricing: '$0.10/hr for the EKS control plane + cost of EC2/Fargate for worker nodes.',
  },
]
